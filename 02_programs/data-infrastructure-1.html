<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Data Infrastructure | Technical Documentation on Data Sources and Methods for Statistical Performance Indicators</title>
  <meta name="description" content="6 Data Infrastructure | Technical Documentation on Data Sources and Methods for Statistical Performance Indicators" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Data Infrastructure | Technical Documentation on Data Sources and Methods for Statistical Performance Indicators" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Data Infrastructure | Technical Documentation on Data Sources and Methods for Statistical Performance Indicators" />
  
  
  

<meta name="author" content="Brian Stacy" />


<meta name="date" content="2024-04-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources-1.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#overview-of-the-new-spi"><i class="fa fa-check"></i><b>1.2</b> Overview of the New SPI</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#pillars-of-the-new-spi"><i class="fa fa-check"></i><b>1.3</b> Pillars of the new SPI</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#data-use"><i class="fa fa-check"></i><b>1.3.1</b> Data use</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#data-services"><i class="fa fa-check"></i><b>1.3.2</b> Data services</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#data-products"><i class="fa fa-check"></i><b>1.3.3</b> Data products</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#data-sources"><i class="fa fa-check"></i><b>1.3.4</b> Data sources</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#data-infrastructure"><i class="fa fa-check"></i><b>1.3.5</b> Data infrastructure</a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction.html"><a href="introduction.html#description-of-dimensions"><i class="fa fa-check"></i><b>1.3.6</b> Description of Dimensions</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#spi-data"><i class="fa fa-check"></i><b>1.4</b> SPI Data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-use-1.html"><a href="data-use-1.html"><i class="fa fa-check"></i><b>2</b> Data Use</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-use-1.html"><a href="data-use-1.html#dimension-1.1-data-use-by-national-legislature"><i class="fa fa-check"></i><b>2.1</b> Dimension 1.1: Data use by national legislature</a></li>
<li class="chapter" data-level="2.2" data-path="data-use-1.html"><a href="data-use-1.html#dimension-1.2-data-use-by-national-executive-branch"><i class="fa fa-check"></i><b>2.2</b> Dimension 1.2: Data use by national executive branch</a></li>
<li class="chapter" data-level="2.3" data-path="data-use-1.html"><a href="data-use-1.html#dimension-1.3-data-use-by-civil-society"><i class="fa fa-check"></i><b>2.3</b> Dimension 1.3: Data use by civil society</a></li>
<li class="chapter" data-level="2.4" data-path="data-use-1.html"><a href="data-use-1.html#dimension-1.4-data-use-by-academia"><i class="fa fa-check"></i><b>2.4</b> Dimension 1.4: Data use by academia</a></li>
<li class="chapter" data-level="2.5" data-path="data-use-1.html"><a href="data-use-1.html#dimension-1.5-data-use-by-international-organizations"><i class="fa fa-check"></i><b>2.5</b> Dimension 1.5: Data use by international organizations</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="data-use-1.html"><a href="data-use-1.html#poverty-comparability"><i class="fa fa-check"></i><b>2.5.1</b> Poverty Comparability</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-use-1.html"><a href="data-use-1.html#mortality-rate-under-5-per-1000-live-births"><i class="fa fa-check"></i><b>2.5.2</b> Mortality rate, under-5 (per 1,000 live births)</a></li>
<li class="chapter" data-level="2.5.3" data-path="data-use-1.html"><a href="data-use-1.html#debt-service-ppg-and-imf-only-of-exports-of-goods-services-and-primary-income"><i class="fa fa-check"></i><b>2.5.3</b> Debt service (PPG and IMF only, % of exports of goods, services and primary income)</a></li>
<li class="chapter" data-level="2.5.4" data-path="data-use-1.html"><a href="data-use-1.html#safely-managed-water"><i class="fa fa-check"></i><b>2.5.4</b> Safely Managed Water</a></li>
<li class="chapter" data-level="2.5.5" data-path="data-use-1.html"><a href="data-use-1.html#labor-force-statistics"><i class="fa fa-check"></i><b>2.5.5</b> Labor Force Statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-services-1.html"><a href="data-services-1.html"><i class="fa fa-check"></i><b>3</b> Data Services</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-services-1.html"><a href="data-services-1.html#dimension-2.1-data-releases"><i class="fa fa-check"></i><b>3.1</b> Dimension 2.1: Data Releases</a></li>
<li class="chapter" data-level="3.2" data-path="data-services-1.html"><a href="data-services-1.html#dimension-2.2-online-access"><i class="fa fa-check"></i><b>3.2</b> Dimension 2.2: Online access</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-services-1.html"><a href="data-services-1.html#source"><i class="fa fa-check"></i><b>3.2.1</b> Source</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-services-1.html"><a href="data-services-1.html#dimension-2.3-advisory-analytical-services"><i class="fa fa-check"></i><b>3.3</b> Dimension 2.3: Advisory/ Analytical Services</a></li>
<li class="chapter" data-level="3.4" data-path="data-services-1.html"><a href="data-services-1.html#dimension-2.4-data-services"><i class="fa fa-check"></i><b>3.4</b> Dimension 2.4: Data services</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-products-1.html"><a href="data-products-1.html"><i class="fa fa-check"></i><b>4</b> Data Products</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-products-1.html"><a href="data-products-1.html#methodology"><i class="fa fa-check"></i><b>4.1</b> Methodology</a></li>
<li class="chapter" data-level="4.2" data-path="data-products-1.html"><a href="data-products-1.html#dimensions-3.1---3.17"><i class="fa fa-check"></i><b>4.2</b> Dimensions 3.1 - 3.17</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-sources-1.html"><a href="data-sources-1.html"><i class="fa fa-check"></i><b>5</b> Data Sources</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-sources-1.html"><a href="data-sources-1.html#dimension-4.1-censuses-and-surveys"><i class="fa fa-check"></i><b>5.1</b> Dimension 4.1: censuses and surveys</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-sources-1.html"><a href="data-sources-1.html#scoring-details"><i class="fa fa-check"></i><b>5.1.1</b> Scoring details</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-sources-1.html"><a href="data-sources-1.html#dimension-4.2-administrative-data"><i class="fa fa-check"></i><b>5.2</b> Dimension 4.2: administrative data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-sources-1.html"><a href="data-sources-1.html#population-health-admin-data"><i class="fa fa-check"></i><b>5.2.1</b> Population &amp; Health Admin Data</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-sources-1.html"><a href="data-sources-1.html#dimension-4.3-geospatial-data"><i class="fa fa-check"></i><b>5.3</b> Dimension 4.3: geospatial data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-sources-1.html"><a href="data-sources-1.html#source-1"><i class="fa fa-check"></i><b>5.3.1</b> Source</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-sources-1.html"><a href="data-sources-1.html#dimension-4.4-privatecitizen-generated-data"><i class="fa fa-check"></i><b>5.4</b> Dimension 4.4: private/citizen generated data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html"><i class="fa fa-check"></i><b>6</b> Data Infrastructure</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#dimension-5.1-legislation-and-governance"><i class="fa fa-check"></i><b>6.1</b> Dimension 5.1: legislation and governance</a></li>
<li class="chapter" data-level="6.2" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#dimension-5.2-standards"><i class="fa fa-check"></i><b>6.2</b> Dimension 5.2: standards</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#system-of-national-accounts-in-use"><i class="fa fa-check"></i><b>6.2.1</b> 5.2.1 System of National Accounts in use</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#national-accounts-base-year"><i class="fa fa-check"></i><b>6.2.2</b> 5.2.2 National Accounts base year</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#classification-of-national-industry"><i class="fa fa-check"></i><b>6.2.3</b> 5.2.3 Classification of national industry</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#cpi-base-year"><i class="fa fa-check"></i><b>6.2.4</b> 5.2.4 CPI base year</a></li>
<li class="chapter" data-level="6.2.5" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#classification-of-household-consumption"><i class="fa fa-check"></i><b>6.2.5</b> 5.2.5 Classification of household consumption</a></li>
<li class="chapter" data-level="6.2.6" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#classification-of-status-of-employment"><i class="fa fa-check"></i><b>6.2.6</b> 5.2.6 Classification of status of employment</a></li>
<li class="chapter" data-level="6.2.7" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#central-government-accounting-status"><i class="fa fa-check"></i><b>6.2.7</b> 5.2.7 Central government accounting status</a></li>
<li class="chapter" data-level="6.2.8" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#compilation-of-government-finance-statistics"><i class="fa fa-check"></i><b>6.2.8</b> 5.2.8 Compilation of government finance statistics</a></li>
<li class="chapter" data-level="6.2.9" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#compilation-of-monetary-and-financial-statistics"><i class="fa fa-check"></i><b>6.2.9</b> 5.2.9 Compilation of monetary and financial statistics</a></li>
<li class="chapter" data-level="6.2.10" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#business-process"><i class="fa fa-check"></i><b>6.2.10</b> 5.2.10 Business process</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#dimension-5.3-skills"><i class="fa fa-check"></i><b>6.3</b> Dimension 5.3: Skills</a></li>
<li class="chapter" data-level="6.4" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#dimension-5.4-partnerships"><i class="fa fa-check"></i><b>6.4</b> Dimension 5.4: partnerships</a></li>
<li class="chapter" data-level="6.5" data-path="data-infrastructure-1.html"><a href="data-infrastructure-1.html#dimension-5.5-finance"><i class="fa fa-check"></i><b>6.5</b> Dimension 5.5: finance</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Technical Documentation on Data Sources and Methods for Statistical Performance Indicators</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-infrastructure-1" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Data Infrastructure<a href="data-infrastructure-1.html#data-infrastructure-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Data Infrastructure (5 Indicators):<br />
- 5.1_DILG - Indicator 5.1: legislation and governance<br />
- 5.2_DISM - Indicator 5.2: standards<br />
- 5.3_DISK - Indicator 5.3: skills<br />
- 5.4_DIPN - Indicator 5.4: partnerships<br />
- 5.5_DIFI - Indicator 5.5: finance</p>
<div id="dimension-5.1-legislation-and-governance" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Dimension 5.1: legislation and governance<a href="data-infrastructure-1.html#dimension-5.1-legislation-and-governance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The legislation and governance indicator will be drawn from SDG indicator 17.18.2 (national statistical legislation compliance with UN Fundamental Principles of Official Statistics), existence of National Statistical Council, national statistical strategy generation, national statistical plan. Also include some other legislative aspects that foster good use of statistics eg freedom of information, privacy/transparency, good governance (eg free and fair elections).</p>
<p>This indicator measures whether the national statistical legislation complies with United Nations Fundamental Principles of Statistics (SDG 17.18.2)</p>
<p>Scores is 1 if the country has a national statistical legislation compliant with United Nations Fundamental Principles of Statistics. Scores of 0 given a score of zero.</p>
<p>The source is Paris 21 and UNSD. Data accessed using UNSD SDG API on 2024-04-04</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-infrastructure-1.html#cb43-1" tabindex="-1"></a>D5<span class="fl">.1</span>_DILG <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file=</span><span class="fu">paste</span>(raw_dir, <span class="st">&#39;5.1_DILG&#39;</span>, <span class="st">&#39;SG_STT_FPOS.csv&#39;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="data-infrastructure-1.html#cb43-2" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, date,ind_value) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="data-infrastructure-1.html#cb43-3" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty) <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="data-infrastructure-1.html#cb43-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RAW.D5.1.DILG=</span><span class="fu">if_else</span>((<span class="fu">is.na</span>(ind_value) <span class="sc">|</span> ind_value<span class="sc">==</span><span class="st">&quot;NaN&quot;</span>),<span class="fu">as.numeric</span>(<span class="cn">NA</span>), <span class="fu">as.numeric</span>(ind_value)),</span>
<span id="cb43-5"><a href="data-infrastructure-1.html#cb43-5" tabindex="-1"></a>         <span class="at">SPI.D5.1.DILG=</span><span class="fu">if_else</span>((<span class="fu">is.na</span>(ind_value) <span class="sc">|</span> ind_value<span class="sc">==</span><span class="st">&quot;NaN&quot;</span>),<span class="fu">as.numeric</span>(<span class="cn">NA</span>), <span class="fu">as.numeric</span>(ind_value))) <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="data-infrastructure-1.html#cb43-6" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ind_value, <span class="sc">-</span>country)</span>
<span id="cb43-7"><a href="data-infrastructure-1.html#cb43-7" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb43-8"><a href="data-infrastructure-1.html#cb43-8" tabindex="-1"></a><span class="co"># #read in csv file.</span></span>
<span id="cb43-9"><a href="data-infrastructure-1.html#cb43-9" tabindex="-1"></a><span class="co"># D5.1_DILG2 &lt;- read_csv(file = paste(raw_dir, &quot;5.1_DILG&quot;,&quot;5.1_DILG.csv&quot;, sep=&quot;/&quot; )) %&gt;%</span></span>
<span id="cb43-10"><a href="data-infrastructure-1.html#cb43-10" tabindex="-1"></a><span class="co">#   as_tibble(.name_repair = &#39;universal&#39;) %&gt;%</span></span>
<span id="cb43-11"><a href="data-infrastructure-1.html#cb43-11" tabindex="-1"></a><span class="co">#   transmute(</span></span>
<span id="cb43-12"><a href="data-infrastructure-1.html#cb43-12" tabindex="-1"></a><span class="co">#     country=Country,</span></span>
<span id="cb43-13"><a href="data-infrastructure-1.html#cb43-13" tabindex="-1"></a><span class="co">#     date=Year,</span></span>
<span id="cb43-14"><a href="data-infrastructure-1.html#cb43-14" tabindex="-1"></a><span class="co">#     SPI.5.1.DILG=Data.Value</span></span>
<span id="cb43-15"><a href="data-infrastructure-1.html#cb43-15" tabindex="-1"></a><span class="co">#   ) %&gt;%</span></span>
<span id="cb43-16"><a href="data-infrastructure-1.html#cb43-16" tabindex="-1"></a><span class="co">#     mutate(country=case_when(</span></span>
<span id="cb43-17"><a href="data-infrastructure-1.html#cb43-17" tabindex="-1"></a><span class="co">#     country==&quot;Bahamas&quot; ~ &quot;Bahamas, The&quot;,                  </span></span>
<span id="cb43-18"><a href="data-infrastructure-1.html#cb43-18" tabindex="-1"></a><span class="co">#     country==&quot;Bolivia (Plurinational State of)&quot;   ~  &quot;Bolivia&quot;   ,                  </span></span>
<span id="cb43-19"><a href="data-infrastructure-1.html#cb43-19" tabindex="-1"></a><span class="co">#     country==&quot;Côte d&#39;Ivoire&quot;  ~  &quot;Cote d&#39;Ivoire&quot;                ,</span></span>
<span id="cb43-20"><a href="data-infrastructure-1.html#cb43-20" tabindex="-1"></a><span class="co">#     country==&quot;Democratic Republic of the Congo&quot;  ~ &quot;Congo, Dem. Rep.&quot;  ,           </span></span>
<span id="cb43-21"><a href="data-infrastructure-1.html#cb43-21" tabindex="-1"></a><span class="co">#     country==&quot;Congo&quot;  ~ &quot;Congo, Rep.&quot;        ,           </span></span>
<span id="cb43-22"><a href="data-infrastructure-1.html#cb43-22" tabindex="-1"></a><span class="co">#     country==&quot;Curacao&quot;  ~  &quot;Curacao&quot;       ,                </span></span>
<span id="cb43-23"><a href="data-infrastructure-1.html#cb43-23" tabindex="-1"></a><span class="co">#     country==&quot;Czechia&quot;   ~  &quot;Czech Republic&quot;     ,        </span></span>
<span id="cb43-24"><a href="data-infrastructure-1.html#cb43-24" tabindex="-1"></a><span class="co">#     country==&quot;Egypt&quot;  ~ &quot;Egypt, Arab Rep.&quot;        ,      </span></span>
<span id="cb43-25"><a href="data-infrastructure-1.html#cb43-25" tabindex="-1"></a><span class="co">#     country==&quot;Micronesia (Federated States of)&quot;  ~ &quot;Micronesia, Fed. Sts.&quot;  ,       </span></span>
<span id="cb43-26"><a href="data-infrastructure-1.html#cb43-26" tabindex="-1"></a><span class="co">#     country==&quot;United Kingdom&quot;   ~  &quot;United Kingdom&quot;    ,         </span></span>
<span id="cb43-27"><a href="data-infrastructure-1.html#cb43-27" tabindex="-1"></a><span class="co">#     country==&quot;Gambia&quot;    ~  &quot;Gambia, The&quot;     ,           </span></span>
<span id="cb43-28"><a href="data-infrastructure-1.html#cb43-28" tabindex="-1"></a><span class="co">#     country==&quot;Iran (Islamic Republic of)&quot;  ~ &quot;Iran, Islamic Rep.&quot; ,           </span></span>
<span id="cb43-29"><a href="data-infrastructure-1.html#cb43-29" tabindex="-1"></a><span class="co">#     country==&quot;Kyrgyzstan&quot;   ~  &quot;Kyrgyz Republic&quot;   ,          </span></span>
<span id="cb43-30"><a href="data-infrastructure-1.html#cb43-30" tabindex="-1"></a><span class="co">#     country==&quot;Republic of Korea&quot;   ~ &quot;Korea, Rep.&quot;   ,               </span></span>
<span id="cb43-31"><a href="data-infrastructure-1.html#cb43-31" tabindex="-1"></a><span class="co">#     country==&quot;Lao People&#39;s Democratic Republic&quot;    ~  &quot;Lao PDR&quot; ,                    </span></span>
<span id="cb43-32"><a href="data-infrastructure-1.html#cb43-32" tabindex="-1"></a><span class="co">#     country==&quot;Saint Kitts and Nevis   &quot;   ~ &quot;St. Kitts and Nevis&quot;,</span></span>
<span id="cb43-33"><a href="data-infrastructure-1.html#cb43-33" tabindex="-1"></a><span class="co">#     country==&quot;Saint Lucia&quot;   ~ &quot;St. Lucia&quot;,</span></span>
<span id="cb43-34"><a href="data-infrastructure-1.html#cb43-34" tabindex="-1"></a><span class="co">#     country==&quot;Republic of Moldova&quot;   ~  &quot;Moldova&quot;   ,                  </span></span>
<span id="cb43-35"><a href="data-infrastructure-1.html#cb43-35" tabindex="-1"></a><span class="co">#     country==&quot;Democratic People&#39;s Republic of Korea&quot;  ~  &quot;Korea, Dem. People’s Rep.&quot; ,  </span></span>
<span id="cb43-36"><a href="data-infrastructure-1.html#cb43-36" tabindex="-1"></a><span class="co">#     country==&quot;Slovakia&quot;   ~  &quot;Slovak Republic&quot;             ,</span></span>
<span id="cb43-37"><a href="data-infrastructure-1.html#cb43-37" tabindex="-1"></a><span class="co">#     country==&quot;United Republic of Tanzania&quot;   ~  &quot;Tanzania&quot; ,                    </span></span>
<span id="cb43-38"><a href="data-infrastructure-1.html#cb43-38" tabindex="-1"></a><span class="co">#     country==&quot;United States of America&quot;  ~ &quot;United States&quot;  ,                </span></span>
<span id="cb43-39"><a href="data-infrastructure-1.html#cb43-39" tabindex="-1"></a><span class="co">#     country==&quot;Saint Vincent and the Grenadines&quot; ~ &quot;St. Vincent and the Grenadines&quot; ,</span></span>
<span id="cb43-40"><a href="data-infrastructure-1.html#cb43-40" tabindex="-1"></a><span class="co">#     country==&quot;Venezuela (Bolivarian Republic of)&quot;  ~  &quot;Venezuela, RB&quot;   ,              </span></span>
<span id="cb43-41"><a href="data-infrastructure-1.html#cb43-41" tabindex="-1"></a><span class="co">#     country==&quot;British Virgin Islands&quot;  ~  &quot;British Virgin Islands&quot; ,       </span></span>
<span id="cb43-42"><a href="data-infrastructure-1.html#cb43-42" tabindex="-1"></a><span class="co">#     country==&quot;Viet Nam&quot;  ~ &quot;Vietnam&quot;        ,              </span></span>
<span id="cb43-43"><a href="data-infrastructure-1.html#cb43-43" tabindex="-1"></a><span class="co">#     country==&quot;Yemen&quot;  ~ &quot;Yemen, Rep.&quot;,</span></span>
<span id="cb43-44"><a href="data-infrastructure-1.html#cb43-44" tabindex="-1"></a><span class="co">#     country==&quot;United Kingdom of Great Britain and Northern Ireland&quot; ~ &quot;United Kingdom&quot;,</span></span>
<span id="cb43-45"><a href="data-infrastructure-1.html#cb43-45" tabindex="-1"></a><span class="co">#     TRUE ~ country</span></span>
<span id="cb43-46"><a href="data-infrastructure-1.html#cb43-46" tabindex="-1"></a><span class="co">#   )) %&gt;%</span></span>
<span id="cb43-47"><a href="data-infrastructure-1.html#cb43-47" tabindex="-1"></a><span class="co">#   mutate(RAW.5.1.DILG=if_else(SPI.5.1.DILG==&#39;no data&#39;,as.character(NA), SPI.5.1.DILG),</span></span>
<span id="cb43-48"><a href="data-infrastructure-1.html#cb43-48" tabindex="-1"></a><span class="co">#          SPI.5.1.DILG=if_else(SPI.5.1.DILG==&#39;no data&#39;,as.numeric(NA), as.numeric(SPI.5.1.DILG))) %&gt;%</span></span>
<span id="cb43-49"><a href="data-infrastructure-1.html#cb43-49" tabindex="-1"></a><span class="co">#   right_join(spi_df_empty)</span></span>
<span id="cb43-50"><a href="data-infrastructure-1.html#cb43-50" tabindex="-1"></a></span>
<span id="cb43-51"><a href="data-infrastructure-1.html#cb43-51" tabindex="-1"></a><span class="co">#add to spi databases</span></span>
<span id="cb43-52"><a href="data-infrastructure-1.html#cb43-52" tabindex="-1"></a>spi_df <span class="ot">&lt;-</span> spi_df <span class="sc">%&gt;%</span></span>
<span id="cb43-53"><a href="data-infrastructure-1.html#cb43-53" tabindex="-1"></a>  <span class="fu">left_join</span>(D5<span class="fl">.1</span>_DILG)</span>
<span id="cb43-54"><a href="data-infrastructure-1.html#cb43-54" tabindex="-1"></a></span>
<span id="cb43-55"><a href="data-infrastructure-1.html#cb43-55" tabindex="-1"></a></span>
<span id="cb43-56"><a href="data-infrastructure-1.html#cb43-56" tabindex="-1"></a>D5<span class="fl">.1</span>_DILG_map <span class="ot">&lt;-</span> D5<span class="fl">.1</span>_DILG <span class="sc">%&gt;%</span></span>
<span id="cb43-57"><a href="data-infrastructure-1.html#cb43-57" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SPI.D5.<span class="fl">1.</span>DILG)) <span class="sc">%&gt;%</span></span>
<span id="cb43-58"><a href="data-infrastructure-1.html#cb43-58" tabindex="-1"></a>  <span class="fu">left_join</span>(country_metadata)</span>
<span id="cb43-59"><a href="data-infrastructure-1.html#cb43-59" tabindex="-1"></a></span>
<span id="cb43-60"><a href="data-infrastructure-1.html#cb43-60" tabindex="-1"></a><span class="fu">spi_mapper</span>(<span class="st">&#39;D5.1_DILG_map&#39;</span>, <span class="st">&#39;RAW.D5.1.DILG&#39;</span>, <span class="st">&#39;National statistical legislation complies with United Nations Fundamental Principles of Statistics. Source: Paris21&#39;</span>)</span></code></pre></div>
<p><img src="01-SPI_data_prep_files/figure-html/legislation_governance-1.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/legislation_governance-2.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/legislation_governance-3.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/legislation_governance-4.png" width="960" /></p>
</div>
<div id="dimension-5.2-standards" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Dimension 5.2: standards<a href="data-infrastructure-1.html#dimension-5.2-standards" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Average score for Standards and Methods indicators. In this release of the SPI the data and methods used for this indicator are the same as for the previous SPI. Further work could improve the validity of this indicator and reduce the risk that countries may be incentivized to adopt only traditional standards and methods and neglect innovative solutions that may be more valid in the current context.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-infrastructure-1.html#cb44-1" tabindex="-1"></a><span class="co">#pull data for several of the standards from WDI metadata</span></span>
<span id="cb44-2"><a href="data-infrastructure-1.html#cb44-2" tabindex="-1"></a></span>
<span id="cb44-3"><a href="data-infrastructure-1.html#cb44-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> WDI_metadata</span>
<span id="cb44-4"><a href="data-infrastructure-1.html#cb44-4" tabindex="-1"></a></span>
<span id="cb44-5"><a href="data-infrastructure-1.html#cb44-5" tabindex="-1"></a><span class="co"># Manipulate and clean final data</span></span>
<span id="cb44-6"><a href="data-infrastructure-1.html#cb44-6" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb44-7"><a href="data-infrastructure-1.html#cb44-7" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Income.Group))  <span class="co">#keep just countries (drop aggregations)</span></span>
<span id="cb44-8"><a href="data-infrastructure-1.html#cb44-8" tabindex="-1"></a></span>
<span id="cb44-9"><a href="data-infrastructure-1.html#cb44-9" tabindex="-1"></a><span class="co">#pull IMF country codes for merging</span></span>
<span id="cb44-10"><a href="data-infrastructure-1.html#cb44-10" tabindex="-1"></a>imf_codes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;metadata&quot;</span>,<span class="st">&quot;IMF_country_codes.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))</span></code></pre></div>
<div id="system-of-national-accounts-in-use" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> 5.2.1 System of National Accounts in use<a href="data-infrastructure-1.html#system-of-national-accounts-in-use" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The national accounts data are compiled using the concepts, definitions,
framework, and methodology of the System of National Account 2008 (SNA2008)
or European System of National and Regional Accounts (ESA 2010). The manual
has evolved to meet the changing economic structure, to follow systematic accounting
and ensure international compatibility.</p>
<p>Scoring: 1 point for using SNA2008 or ESA 2010, 0.5 points for using SNA 1993 or ESA 1995, 0 points otherwise</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-infrastructure-1.html#cb45-1" tabindex="-1"></a><span class="co">#read in metadata file.</span></span>
<span id="cb45-2"><a href="data-infrastructure-1.html#cb45-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">1.</span>SNAU <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="data-infrastructure-1.html#cb45-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">iso3c=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(Country.Code), Code, Country.Code),</span>
<span id="cb45-4"><a href="data-infrastructure-1.html#cb45-4" tabindex="-1"></a>         <span class="at">country=</span>Table.Name) <span class="sc">%&gt;%</span></span>
<span id="cb45-5"><a href="data-infrastructure-1.html#cb45-5" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&#39;iso3c&#39;</span>,  <span class="st">&#39;date&#39;</span>,  <span class="st">&#39;System.of.National.Accounts&#39;</span>)  ) <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="data-infrastructure-1.html#cb45-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SNAU=</span>System.of.National.Accounts) <span class="sc">%&gt;%</span></span>
<span id="cb45-7"><a href="data-infrastructure-1.html#cb45-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SNAU=</span><span class="fu">str_extract</span>(SNAU, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{4}&quot;</span>) ) <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="data-infrastructure-1.html#cb45-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.1.SNAU=</span><span class="fu">case_when</span>(</span>
<span id="cb45-9"><a href="data-infrastructure-1.html#cb45-9" tabindex="-1"></a>    SNAU<span class="sc">==</span><span class="st">&quot;2008&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb45-10"><a href="data-infrastructure-1.html#cb45-10" tabindex="-1"></a>    SNAU<span class="sc">==</span><span class="st">&quot;1993&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb45-11"><a href="data-infrastructure-1.html#cb45-11" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb45-12"><a href="data-infrastructure-1.html#cb45-12" tabindex="-1"></a>  ),</span>
<span id="cb45-13"><a href="data-infrastructure-1.html#cb45-13" tabindex="-1"></a>      <span class="at">RAW.D5.2.1.SNAU=</span>System.of.National.Accounts) <span class="sc">%&gt;%</span></span>
<span id="cb45-14"><a href="data-infrastructure-1.html#cb45-14" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb45-15"><a href="data-infrastructure-1.html#cb45-15" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date,RAW.D5.<span class="dv">2</span>.<span class="fl">1.</span>SNAU, SPI.D5.<span class="dv">2</span>.<span class="fl">1.</span>SNAU  ) </span></code></pre></div>
</div>
<div id="national-accounts-base-year" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> 5.2.2 National Accounts base year<a href="data-infrastructure-1.html#national-accounts-base-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>National accounts base year is the year used as the base period for constant price
calculations in the country’s national accounts. It is recommended that the base year of
constant price estimates be changed periodically to reflect changes in economic structure and relative prices.</p>
<p>1 point for chained price, 0.5 for reference period within past 10 years, 0 points otherwise.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-infrastructure-1.html#cb46-1" tabindex="-1"></a> df <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="data-infrastructure-1.html#cb46-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">iso3c=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(Country.Code), Code, Country.Code),</span>
<span id="cb46-3"><a href="data-infrastructure-1.html#cb46-3" tabindex="-1"></a>         <span class="at">country=</span>Table.Name) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="data-infrastructure-1.html#cb46-4" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&#39;iso3c&#39;</span>,  <span class="st">&#39;date&#39;</span>,  <span class="st">&#39;National.accounts.base.year&#39;</span>)  ) <span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a href="data-infrastructure-1.html#cb46-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NABY=</span>National.accounts.base.year) <span class="sc">%&gt;%</span></span>
<span id="cb46-6"><a href="data-infrastructure-1.html#cb46-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NABY_dates=</span><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{2}/&quot;</span>,<span class="st">&quot;&quot;</span>,NABY) ) <span class="sc">%&gt;%</span></span>
<span id="cb46-7"><a href="data-infrastructure-1.html#cb46-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NABY_dates=</span><span class="fu">str_extract</span>(NABY_dates, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{4}&quot;</span>) ) <span class="sc">%&gt;%</span></span>
<span id="cb46-8"><a href="data-infrastructure-1.html#cb46-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NABY_dates=</span><span class="fu">if_else</span>(NABY<span class="sc">==</span><span class="st">&quot;20015/2016&quot;</span>,<span class="st">&quot;2016&quot;</span>,NABY_dates)) <span class="sc">%&gt;%</span> <span class="co">#fix an issue in WDI metadata</span></span>
<span id="cb46-9"><a href="data-infrastructure-1.html#cb46-9" tabindex="-1"></a>  <span class="fu">arrange</span>(iso3c,date) <span class="sc">%&gt;%</span></span>
<span id="cb46-10"><a href="data-infrastructure-1.html#cb46-10" tabindex="-1"></a>  <span class="fu">write_excel_csv</span>(<span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.2.NABY_raw_metadata.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) </span>
<span id="cb46-11"><a href="data-infrastructure-1.html#cb46-11" tabindex="-1"></a></span>
<span id="cb46-12"><a href="data-infrastructure-1.html#cb46-12" tabindex="-1"></a></span>
<span id="cb46-13"><a href="data-infrastructure-1.html#cb46-13" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">2.</span>NABY <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.2.NABY_raw_metadata.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb46-14"><a href="data-infrastructure-1.html#cb46-14" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.2.NABY=</span><span class="fu">case_when</span>(</span>
<span id="cb46-15"><a href="data-infrastructure-1.html#cb46-15" tabindex="-1"></a>    NABY<span class="sc">==</span><span class="st">&quot;Original chained constant price data are rescaled.&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb46-16"><a href="data-infrastructure-1.html#cb46-16" tabindex="-1"></a>    (date<span class="sc">-</span><span class="fu">as.numeric</span>(NABY_dates))<span class="sc">&lt;=</span><span class="dv">10</span> <span class="sc">~</span> <span class="fl">0.5</span>, <span class="co">#within 10 years of reference period</span></span>
<span id="cb46-17"><a href="data-infrastructure-1.html#cb46-17" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb46-18"><a href="data-infrastructure-1.html#cb46-18" tabindex="-1"></a>  ),</span>
<span id="cb46-19"><a href="data-infrastructure-1.html#cb46-19" tabindex="-1"></a>  <span class="at">RAW.D5.2.2.NABY=</span>NABY)  <span class="sc">%&gt;%</span></span>
<span id="cb46-20"><a href="data-infrastructure-1.html#cb46-20" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">2.</span>NABY, SPI.D5.<span class="dv">2</span>.<span class="fl">2.</span>NABY  ) <span class="sc">%&gt;%</span></span>
<span id="cb46-21"><a href="data-infrastructure-1.html#cb46-21" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span></code></pre></div>
</div>
<div id="classification-of-national-industry" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> 5.2.3 Classification of national industry<a href="data-infrastructure-1.html#classification-of-national-industry" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The industrial production data are compiled using the International Standard Industrial
Classification of All Economic Activities (ISIC) Rev.4 and Statistical Classification of
Economic Activities in the European Community (NACE) Rev.2. ISIC Rev.4 is a standard classification
of economic activities arranged so that entities can be classified per the activity they carry out
using criteria such as input, output and use of the products produced, more emphasis has been given
to the character of the production process in defining and delineating ISIC classes for international
comparability. The manual and classification have changed to cover the complete scope of industrial
production, employment, and GDP and other statistical areas.</p>
<p>1 Point. Latest version is adopted (ISIC Rev 4, NACE Rev 2 or a compatible classification)</p>
<p>0.5 Points. Previous version is used (ISIC Rev 3, NACE Rev 1 or a compatible classification)</p>
<p>0 Points. Otherwise</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-infrastructure-1.html#cb47-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb47-2"><a href="data-infrastructure-1.html#cb47-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">3.</span>CNIN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.3.CNIN.2023.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb47-3"><a href="data-infrastructure-1.html#cb47-3" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">2020</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">2023</span><span class="st">`</span>),</span>
<span id="cb47-4"><a href="data-infrastructure-1.html#cb47-4" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">&#39;date&#39;</span>,</span>
<span id="cb47-5"><a href="data-infrastructure-1.html#cb47-5" tabindex="-1"></a>               <span class="at">values_to=</span><span class="st">&#39;CNIN&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-6"><a href="data-infrastructure-1.html#cb47-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-7"><a href="data-infrastructure-1.html#cb47-7" tabindex="-1"></a>  <span class="at">iso3c=</span>Code,</span>
<span id="cb47-8"><a href="data-infrastructure-1.html#cb47-8" tabindex="-1"></a>  <span class="at">date=</span><span class="fu">as.numeric</span>(date)</span>
<span id="cb47-9"><a href="data-infrastructure-1.html#cb47-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb47-10"><a href="data-infrastructure-1.html#cb47-10" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.3.CNIN.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span></span>
<span id="cb47-11"><a href="data-infrastructure-1.html#cb47-11" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.3.CNIN=</span><span class="fu">case_when</span>(</span>
<span id="cb47-12"><a href="data-infrastructure-1.html#cb47-12" tabindex="-1"></a>    <span class="fu">str_to_lower</span>(CNIN)<span class="sc">==</span><span class="st">&quot;nace rev2&quot;</span> <span class="sc">|</span> <span class="fu">str_to_lower</span>(CNIN)<span class="sc">==</span><span class="st">&quot;rev4&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb47-13"><a href="data-infrastructure-1.html#cb47-13" tabindex="-1"></a>    <span class="fu">str_to_lower</span>(CNIN)<span class="sc">==</span><span class="st">&quot;nace rev1&quot;</span> <span class="sc">|</span> <span class="fu">str_to_lower</span>(CNIN)<span class="sc">==</span><span class="st">&quot;rev3&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>, </span>
<span id="cb47-14"><a href="data-infrastructure-1.html#cb47-14" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb47-15"><a href="data-infrastructure-1.html#cb47-15" tabindex="-1"></a>  ),</span>
<span id="cb47-16"><a href="data-infrastructure-1.html#cb47-16" tabindex="-1"></a>  <span class="at">RAW.D5.2.3.CNIN=</span>CNIN)  <span class="sc">%&gt;%</span></span>
<span id="cb47-17"><a href="data-infrastructure-1.html#cb47-17" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">3.</span>CNIN, SPI.D5.<span class="dv">2</span>.<span class="fl">3.</span>CNIN  ) <span class="sc">%&gt;%</span></span>
<span id="cb47-18"><a href="data-infrastructure-1.html#cb47-18" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c)</span></code></pre></div>
</div>
<div id="cpi-base-year" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> 5.2.4 CPI base year<a href="data-infrastructure-1.html#cpi-base-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consumer Price Index serves as indicators of inflation and reflects changes in the
cost of acquiring a fixed basket of goods and services by the average consumer.<br />
Weights are usually derived from consumer expenditure surveys and the CPI base year
refers to the year the weights were derived. It is recommended that the base year be
changed periodically to reflect changes in expenditure structure.</p>
<p>1 Point. Annual chain linking. 0.5 Points. Base year in last 10 years. 0 points. Otherwise</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-infrastructure-1.html#cb48-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb48-2"><a href="data-infrastructure-1.html#cb48-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.4.CPIBY.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="data-infrastructure-1.html#cb48-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.4.CPIBY.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co"># add in 2020 data</span></span>
<span id="cb48-4"><a href="data-infrastructure-1.html#cb48-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.4.CPIBY=</span><span class="fu">case_when</span>(</span>
<span id="cb48-5"><a href="data-infrastructure-1.html#cb48-5" tabindex="-1"></a>    <span class="fu">str_to_lower</span>(CPIBY)<span class="sc">==</span><span class="st">&quot;annual chained&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb48-6"><a href="data-infrastructure-1.html#cb48-6" tabindex="-1"></a>    <span class="fu">str_to_lower</span>(CPIBY)<span class="sc">==</span><span class="st">&quot;annually chained&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb48-7"><a href="data-infrastructure-1.html#cb48-7" tabindex="-1"></a>    (date<span class="sc">-</span><span class="fu">as.numeric</span>(CPIBY))<span class="sc">&lt;=</span><span class="dv">10</span> <span class="sc">~</span> <span class="fl">0.5</span>, <span class="co">#within 10 years of reference period</span></span>
<span id="cb48-8"><a href="data-infrastructure-1.html#cb48-8" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb48-9"><a href="data-infrastructure-1.html#cb48-9" tabindex="-1"></a>  ),</span>
<span id="cb48-10"><a href="data-infrastructure-1.html#cb48-10" tabindex="-1"></a>  <span class="at">RAW.D5.2.4.CPIBY=</span>CPIBY)  <span class="sc">%&gt;%</span></span>
<span id="cb48-11"><a href="data-infrastructure-1.html#cb48-11" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY, SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-12"><a href="data-infrastructure-1.html#cb48-12" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb48-13"><a href="data-infrastructure-1.html#cb48-13" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty)</span>
<span id="cb48-14"><a href="data-infrastructure-1.html#cb48-14" tabindex="-1"></a></span>
<span id="cb48-15"><a href="data-infrastructure-1.html#cb48-15" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb48-16"><a href="data-infrastructure-1.html#cb48-16" tabindex="-1"></a><span class="co"># IMF Data</span></span>
<span id="cb48-17"><a href="data-infrastructure-1.html#cb48-17" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb48-18"><a href="data-infrastructure-1.html#cb48-18" tabindex="-1"></a></span>
<span id="cb48-19"><a href="data-infrastructure-1.html#cb48-19" tabindex="-1"></a><span class="co">#use alternative data source provided by the IMF</span></span>
<span id="cb48-20"><a href="data-infrastructure-1.html#cb48-20" tabindex="-1"></a></span>
<span id="cb48-21"><a href="data-infrastructure-1.html#cb48-21" tabindex="-1"></a><span class="co">#read in data on when the weights were last updated to measure if annual chain linking is done</span></span>
<span id="cb48-22"><a href="data-infrastructure-1.html#cb48-22" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">4.</span>COICOP.WGT <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2024.02_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb48-23"><a href="data-infrastructure-1.html#cb48-23" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;COICOP Month_Last Change&quot;</span>,</span>
<span id="cb48-24"><a href="data-infrastructure-1.html#cb48-24" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">4</span></span>
<span id="cb48-25"><a href="data-infrastructure-1.html#cb48-25" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb48-26"><a href="data-infrastructure-1.html#cb48-26" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb48-27"><a href="data-infrastructure-1.html#cb48-27" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb48-28"><a href="data-infrastructure-1.html#cb48-28" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb48-29"><a href="data-infrastructure-1.html#cb48-29" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country_revised</span>
<span id="cb48-30"><a href="data-infrastructure-1.html#cb48-30" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-31"><a href="data-infrastructure-1.html#cb48-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb48-32"><a href="data-infrastructure-1.html#cb48-32" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes)</span>
<span id="cb48-33"><a href="data-infrastructure-1.html#cb48-33" tabindex="-1"></a>  </span>
<span id="cb48-34"><a href="data-infrastructure-1.html#cb48-34" tabindex="-1"></a>  </span>
<span id="cb48-35"><a href="data-infrastructure-1.html#cb48-35" tabindex="-1"></a><span class="co">#read in last time the CPI reference period is updated to fill in rest of info  </span></span>
<span id="cb48-36"><a href="data-infrastructure-1.html#cb48-36" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">4.</span>CPI.REF <span class="ot">&lt;-</span>  <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2024.02_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb48-37"><a href="data-infrastructure-1.html#cb48-37" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;2. CPI Reference Period&quot;</span>,</span>
<span id="cb48-38"><a href="data-infrastructure-1.html#cb48-38" tabindex="-1"></a>                              <span class="at">skip=</span><span class="dv">2</span></span>
<span id="cb48-39"><a href="data-infrastructure-1.html#cb48-39" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb48-40"><a href="data-infrastructure-1.html#cb48-40" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-41"><a href="data-infrastructure-1.html#cb48-41" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">IMF_country=</span>Country) <span class="sc">%&gt;%</span></span>
<span id="cb48-42"><a href="data-infrastructure-1.html#cb48-42" tabindex="-1"></a>  <span class="fu">left_join</span>(D5.<span class="dv">2</span>.<span class="fl">4.</span>COICOP.WGT) <span class="co">#merge CPI weights</span></span>
<span id="cb48-43"><a href="data-infrastructure-1.html#cb48-43" tabindex="-1"></a>  </span>
<span id="cb48-44"><a href="data-infrastructure-1.html#cb48-44" tabindex="-1"></a><span class="co">#now calculate whether annual chain linking is used and CPI base year from scratch using this info</span></span>
<span id="cb48-45"><a href="data-infrastructure-1.html#cb48-45" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF.RAW <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">4.</span>CPI.REF <span class="sc">%&gt;%</span></span>
<span id="cb48-46"><a href="data-infrastructure-1.html#cb48-46" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(iso3c)) <span class="sc">%&gt;%</span></span>
<span id="cb48-47"><a href="data-infrastructure-1.html#cb48-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CPI_ref_period=</span><span class="fu">str_sub</span>(Common.Reference.Period,<span class="dv">1</span>,<span class="dv">4</span>),</span>
<span id="cb48-48"><a href="data-infrastructure-1.html#cb48-48" tabindex="-1"></a>         <span class="at">CPI_ref_period=</span><span class="fu">as.numeric</span>(CPI_ref_period),</span>
<span id="cb48-49"><a href="data-infrastructure-1.html#cb48-49" tabindex="-1"></a>         <span class="at">CPI_weight_change=</span><span class="fu">str_sub</span>(last_change,<span class="dv">1</span>,<span class="dv">4</span>),</span>
<span id="cb48-50"><a href="data-infrastructure-1.html#cb48-50" tabindex="-1"></a>         <span class="at">CPI_weight_change=</span><span class="fu">as.numeric</span>(CPI_weight_change),</span>
<span id="cb48-51"><a href="data-infrastructure-1.html#cb48-51" tabindex="-1"></a>         <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb48-52"><a href="data-infrastructure-1.html#cb48-52" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RAW.D5.2.4.CPIBY.IMF=</span><span class="fu">if_else</span>((CPI_weight_change<span class="sc">&gt;=</span><span class="dv">2023</span> <span class="sc">&amp;</span> CPI_ref_period<span class="sc">&lt;=</span><span class="dv">2023</span>), <span class="st">&quot;annual chained&quot;</span>,<span class="fu">as.character</span>(CPI_ref_period),<span class="fu">as.character</span>(CPI_ref_period))) <span class="sc">%&gt;%</span></span>
<span id="cb48-53"><a href="data-infrastructure-1.html#cb48-53" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RAW.D5.2.4.CPIBY.IMF=</span><span class="fu">if_else</span>((iso3c<span class="sc">==</span><span class="st">&#39;AUS&#39;</span> <span class="sc">|</span> iso3c<span class="sc">==</span><span class="st">&#39;NZL&#39;</span>),<span class="st">&quot;annual chained&quot;</span>,<span class="fu">as.character</span>(RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF),<span class="fu">as.character</span>(RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF))) <span class="co">#replace Australia and New Zealand as annual chain linking.  They use quarterly cpi releases and do not show up in this dataset</span></span>
<span id="cb48-54"><a href="data-infrastructure-1.html#cb48-54" tabindex="-1"></a>  </span>
<span id="cb48-55"><a href="data-infrastructure-1.html#cb48-55" tabindex="-1"></a><span class="co">#score from 2010 to 2020  </span></span>
<span id="cb48-56"><a href="data-infrastructure-1.html#cb48-56" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">exists</span>(<span class="st">&#39;D5.2.4.CPIBY.IMF&#39;</span>)) {</span>
<span id="cb48-57"><a href="data-infrastructure-1.html#cb48-57" tabindex="-1"></a>    <span class="fu">rm</span>(D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF)</span>
<span id="cb48-58"><a href="data-infrastructure-1.html#cb48-58" tabindex="-1"></a>} </span>
<span id="cb48-59"><a href="data-infrastructure-1.html#cb48-59" tabindex="-1"></a></span>
<span id="cb48-60"><a href="data-infrastructure-1.html#cb48-60" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2015</span><span class="sc">:</span><span class="dv">2023</span>)) {</span>
<span id="cb48-61"><a href="data-infrastructure-1.html#cb48-61" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF.RAW <span class="sc">%&gt;%</span></span>
<span id="cb48-62"><a href="data-infrastructure-1.html#cb48-62" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date=</span>i) <span class="sc">%&gt;%</span></span>
<span id="cb48-63"><a href="data-infrastructure-1.html#cb48-63" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">SPI.D5.2.4.CPIBY.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb48-64"><a href="data-infrastructure-1.html#cb48-64" tabindex="-1"></a>      RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF<span class="sc">==</span><span class="st">&quot;annual chained&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb48-65"><a href="data-infrastructure-1.html#cb48-65" tabindex="-1"></a>      (date<span class="sc">-</span><span class="fu">as.numeric</span>(RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF))<span class="sc">&lt;=</span><span class="dv">10</span> <span class="sc">~</span> <span class="fl">0.5</span>, <span class="co">#within 10 years of reference period</span></span>
<span id="cb48-66"><a href="data-infrastructure-1.html#cb48-66" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb48-67"><a href="data-infrastructure-1.html#cb48-67" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span></span>
<span id="cb48-68"><a href="data-infrastructure-1.html#cb48-68" tabindex="-1"></a>    <span class="fu">select</span>(iso3c, date, RAW.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF, SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-69"><a href="data-infrastructure-1.html#cb48-69" tabindex="-1"></a>    <span class="fu">arrange</span>(date, iso3c)</span>
<span id="cb48-70"><a href="data-infrastructure-1.html#cb48-70" tabindex="-1"></a>  </span>
<span id="cb48-71"><a href="data-infrastructure-1.html#cb48-71" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">exists</span>(<span class="st">&#39;D5.2.4.CPIBY.IMF&#39;</span>)) {</span>
<span id="cb48-72"><a href="data-infrastructure-1.html#cb48-72" tabindex="-1"></a>    D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF <span class="ot">&lt;-</span> temp</span>
<span id="cb48-73"><a href="data-infrastructure-1.html#cb48-73" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb48-74"><a href="data-infrastructure-1.html#cb48-74" tabindex="-1"></a>    D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF <span class="sc">%&gt;%</span></span>
<span id="cb48-75"><a href="data-infrastructure-1.html#cb48-75" tabindex="-1"></a>      <span class="fu">bind_rows</span>(temp)</span>
<span id="cb48-76"><a href="data-infrastructure-1.html#cb48-76" tabindex="-1"></a>  }</span>
<span id="cb48-77"><a href="data-infrastructure-1.html#cb48-77" tabindex="-1"></a>  </span>
<span id="cb48-78"><a href="data-infrastructure-1.html#cb48-78" tabindex="-1"></a>}</span>
<span id="cb48-79"><a href="data-infrastructure-1.html#cb48-79" tabindex="-1"></a></span>
<span id="cb48-80"><a href="data-infrastructure-1.html#cb48-80" tabindex="-1"></a></span>
<span id="cb48-81"><a href="data-infrastructure-1.html#cb48-81" tabindex="-1"></a></span>
<span id="cb48-82"><a href="data-infrastructure-1.html#cb48-82" tabindex="-1"></a><span class="co">#update based on IMF data.  Use manually collected value when other value not available</span></span>
<span id="cb48-83"><a href="data-infrastructure-1.html#cb48-83" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY <span class="sc">%&gt;%</span></span>
<span id="cb48-84"><a href="data-infrastructure-1.html#cb48-84" tabindex="-1"></a>  <span class="fu">full_join</span>(D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb48-85"><a href="data-infrastructure-1.html#cb48-85" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.4.CPIBY=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY),SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY)) <span class="sc">%&gt;%</span></span>
<span id="cb48-86"><a href="data-infrastructure-1.html#cb48-86" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>SPI.D5.<span class="dv">2</span>.<span class="fl">4.</span>CPIBY.IMF) </span></code></pre></div>
</div>
<div id="classification-of-household-consumption" class="section level3 hasAnchor" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> 5.2.5 Classification of household consumption<a href="data-infrastructure-1.html#classification-of-household-consumption" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Classification of Individual Consumption According to Purpose (COICOP)
is used in household budget surveys, consumer price indices and international
comparisons of gross domestic product (GDP) and its component expenditures.<br />
Although COICOP is not strictly linked to any particular model of consumer
behavior, the classification is designed to broadly reflect differences in
income elasticities. It is an integral part of the SNA1993 and more detailed
subdivision of the classes provide comparability between countries and between
statistics in these different areas.</p>
<p>1 Point. Follow Classification of Individual Consumption by Purpose (COICOP) 0 Points. Otherwise</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-infrastructure-1.html#cb49-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb49-2"><a href="data-infrastructure-1.html#cb49-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.5.HOUS.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="data-infrastructure-1.html#cb49-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.5.HOUS.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co">#add 2020 data</span></span>
<span id="cb49-4"><a href="data-infrastructure-1.html#cb49-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.5.HOUS=</span><span class="fu">case_when</span>(</span>
<span id="cb49-5"><a href="data-infrastructure-1.html#cb49-5" tabindex="-1"></a>    HOUS<span class="sc">==</span><span class="st">&quot;COICOP&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-6"><a href="data-infrastructure-1.html#cb49-6" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb49-7"><a href="data-infrastructure-1.html#cb49-7" tabindex="-1"></a>  ),</span>
<span id="cb49-8"><a href="data-infrastructure-1.html#cb49-8" tabindex="-1"></a>  <span class="at">RAW.D5.2.5.HOUS=</span>HOUS)  <span class="sc">%&gt;%</span></span>
<span id="cb49-9"><a href="data-infrastructure-1.html#cb49-9" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS, SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS  ) <span class="sc">%&gt;%</span></span>
<span id="cb49-10"><a href="data-infrastructure-1.html#cb49-10" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb49-11"><a href="data-infrastructure-1.html#cb49-11" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty)</span>
<span id="cb49-12"><a href="data-infrastructure-1.html#cb49-12" tabindex="-1"></a></span>
<span id="cb49-13"><a href="data-infrastructure-1.html#cb49-13" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb49-14"><a href="data-infrastructure-1.html#cb49-14" tabindex="-1"></a><span class="co"># IMF Data</span></span>
<span id="cb49-15"><a href="data-infrastructure-1.html#cb49-15" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb49-16"><a href="data-infrastructure-1.html#cb49-16" tabindex="-1"></a></span>
<span id="cb49-17"><a href="data-infrastructure-1.html#cb49-17" tabindex="-1"></a><span class="co">#use alternative data source provided by the IMF</span></span>
<span id="cb49-18"><a href="data-infrastructure-1.html#cb49-18" tabindex="-1"></a></span>
<span id="cb49-19"><a href="data-infrastructure-1.html#cb49-19" tabindex="-1"></a><span class="co">#read in data on COICOP from IMF</span></span>
<span id="cb49-20"><a href="data-infrastructure-1.html#cb49-20" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF<span class="fl">.2022</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2022.10_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb49-21"><a href="data-infrastructure-1.html#cb49-21" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;3. Household Consump Class&quot;</span>,</span>
<span id="cb49-22"><a href="data-infrastructure-1.html#cb49-22" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">0</span></span>
<span id="cb49-23"><a href="data-infrastructure-1.html#cb49-23" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb49-24"><a href="data-infrastructure-1.html#cb49-24" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb49-25"><a href="data-infrastructure-1.html#cb49-25" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb49-26"><a href="data-infrastructure-1.html#cb49-26" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb49-27"><a href="data-infrastructure-1.html#cb49-27" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb49-28"><a href="data-infrastructure-1.html#cb49-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb49-29"><a href="data-infrastructure-1.html#cb49-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.5.HOUS.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb49-30"><a href="data-infrastructure-1.html#cb49-30" tabindex="-1"></a>    Status..as.of.October<span class="fl">.2022</span><span class="sc">==</span><span class="st">&quot;COICOP&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-31"><a href="data-infrastructure-1.html#cb49-31" tabindex="-1"></a>    Status..as.of.October<span class="fl">.2022</span><span class="sc">==</span><span class="st">&quot;COICOP.&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-32"><a href="data-infrastructure-1.html#cb49-32" tabindex="-1"></a>    Status..as.of.October<span class="fl">.2022</span><span class="sc">==</span><span class="st">&quot;COICOP 2018&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-33"><a href="data-infrastructure-1.html#cb49-33" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb49-34"><a href="data-infrastructure-1.html#cb49-34" tabindex="-1"></a>  ),</span>
<span id="cb49-35"><a href="data-infrastructure-1.html#cb49-35" tabindex="-1"></a>  <span class="at">RAW.D5.2.5.HOUS.IMF=</span>Status..as.of.October<span class="fl">.2022</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-36"><a href="data-infrastructure-1.html#cb49-36" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb49-37"><a href="data-infrastructure-1.html#cb49-37" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb49-38"><a href="data-infrastructure-1.html#cb49-38" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-39"><a href="data-infrastructure-1.html#cb49-39" tabindex="-1"></a>        <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb49-40"><a href="data-infrastructure-1.html#cb49-40" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF ) </span>
<span id="cb49-41"><a href="data-infrastructure-1.html#cb49-41" tabindex="-1"></a></span>
<span id="cb49-42"><a href="data-infrastructure-1.html#cb49-42" tabindex="-1"></a><span class="co">#read in data on COICOP from IMF</span></span>
<span id="cb49-43"><a href="data-infrastructure-1.html#cb49-43" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF<span class="fl">.2023</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2024.02_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb49-44"><a href="data-infrastructure-1.html#cb49-44" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;3. Household Consump Class&quot;</span>,</span>
<span id="cb49-45"><a href="data-infrastructure-1.html#cb49-45" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">0</span></span>
<span id="cb49-46"><a href="data-infrastructure-1.html#cb49-46" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb49-47"><a href="data-infrastructure-1.html#cb49-47" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb49-48"><a href="data-infrastructure-1.html#cb49-48" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb49-49"><a href="data-infrastructure-1.html#cb49-49" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb49-50"><a href="data-infrastructure-1.html#cb49-50" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb49-51"><a href="data-infrastructure-1.html#cb49-51" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb49-52"><a href="data-infrastructure-1.html#cb49-52" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.5.HOUS.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb49-53"><a href="data-infrastructure-1.html#cb49-53" tabindex="-1"></a>    Status..as.of.January<span class="fl">.2024</span><span class="sc">==</span><span class="st">&quot;COICOP&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-54"><a href="data-infrastructure-1.html#cb49-54" tabindex="-1"></a>    Status..as.of.January<span class="fl">.2024</span><span class="sc">==</span><span class="st">&quot;COICOP.&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-55"><a href="data-infrastructure-1.html#cb49-55" tabindex="-1"></a>    Status..as.of.January<span class="fl">.2024</span><span class="sc">==</span><span class="st">&quot;COICOP 2018&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb49-56"><a href="data-infrastructure-1.html#cb49-56" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb49-57"><a href="data-infrastructure-1.html#cb49-57" tabindex="-1"></a>  ),</span>
<span id="cb49-58"><a href="data-infrastructure-1.html#cb49-58" tabindex="-1"></a>  <span class="at">RAW.D5.2.5.HOUS.IMF=</span>Status..as.of.January<span class="fl">.2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-59"><a href="data-infrastructure-1.html#cb49-59" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb49-60"><a href="data-infrastructure-1.html#cb49-60" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb49-61"><a href="data-infrastructure-1.html#cb49-61" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-62"><a href="data-infrastructure-1.html#cb49-62" tabindex="-1"></a>        <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb49-63"><a href="data-infrastructure-1.html#cb49-63" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF ) </span>
<span id="cb49-64"><a href="data-infrastructure-1.html#cb49-64" tabindex="-1"></a></span>
<span id="cb49-65"><a href="data-infrastructure-1.html#cb49-65" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF<span class="fl">.2022</span> <span class="sc">%&gt;%</span> </span>
<span id="cb49-66"><a href="data-infrastructure-1.html#cb49-66" tabindex="-1"></a>  <span class="fu">bind_rows</span>(D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF<span class="fl">.2022</span> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb49-67"><a href="data-infrastructure-1.html#cb49-67" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(date),<span class="dv">2022</span>,<span class="dv">2021</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb49-68"><a href="data-infrastructure-1.html#cb49-68" tabindex="-1"></a>  <span class="fu">bind_rows</span>(D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF<span class="fl">.2023</span> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb49-69"><a href="data-infrastructure-1.html#cb49-69" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(iso3c))</span>
<span id="cb49-70"><a href="data-infrastructure-1.html#cb49-70" tabindex="-1"></a></span>
<span id="cb49-71"><a href="data-infrastructure-1.html#cb49-71" tabindex="-1"></a></span>
<span id="cb49-72"><a href="data-infrastructure-1.html#cb49-72" tabindex="-1"></a>  </span>
<span id="cb49-73"><a href="data-infrastructure-1.html#cb49-73" tabindex="-1"></a>  </span>
<span id="cb49-74"><a href="data-infrastructure-1.html#cb49-74" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS <span class="ot">&lt;-</span>  D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS <span class="sc">%&gt;%</span></span>
<span id="cb49-75"><a href="data-infrastructure-1.html#cb49-75" tabindex="-1"></a>  <span class="fu">full_join</span>(D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb49-76"><a href="data-infrastructure-1.html#cb49-76" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.5.HOUS=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS),SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS)) <span class="sc">%&gt;%</span> <span class="co">#fill in with IMF data if missing.  This applies mostly to high income countries</span></span>
<span id="cb49-77"><a href="data-infrastructure-1.html#cb49-77" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>country,<span class="sc">-</span>SPI.D5.<span class="dv">2</span>.<span class="fl">5.</span>HOUS.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb49-78"><a href="data-infrastructure-1.html#cb49-78" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) </span></code></pre></div>
</div>
<div id="classification-of-status-of-employment" class="section level3 hasAnchor" number="6.2.6">
<h3><span class="header-section-number">6.2.6</span> 5.2.6 Classification of status of employment<a href="data-infrastructure-1.html#classification-of-status-of-employment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Classification of status of employment refers to employment data that are
compiled using the current international standard International Classification
of Status in Employment (ISCE-93). It classifies jobs with respect to the type
of explicit or implicit contract of employment between the job holder and the
economic unit in which he or she is employed. Therefore, it aims to provide the
basis for production of internationally comparable statistics on the employment
relationship, including the distinction between salaried employment and self-employment.</p>
<p>1 Point. Follow International Labour Organization, International Classification of Status in Employment (ICSE-93) or 2012 North American Industry Classification System (NAICS). 0 Points Otherwise.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-infrastructure-1.html#cb50-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb50-2"><a href="data-infrastructure-1.html#cb50-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">6.</span>EMPL <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.6.EMPL.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="data-infrastructure-1.html#cb50-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.6.EMPL.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co"># add in 2020 data</span></span>
<span id="cb50-4"><a href="data-infrastructure-1.html#cb50-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.6.EMPL=</span><span class="fu">case_when</span>(</span>
<span id="cb50-5"><a href="data-infrastructure-1.html#cb50-5" tabindex="-1"></a>    EMPL<span class="sc">==</span><span class="st">&quot;ICSE-93&quot;</span> <span class="sc">|</span> EMPL<span class="sc">==</span><span class="st">&quot;NAICS&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb50-6"><a href="data-infrastructure-1.html#cb50-6" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb50-7"><a href="data-infrastructure-1.html#cb50-7" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb50-8"><a href="data-infrastructure-1.html#cb50-8" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.6.EMPL.2022.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>, <span class="at">SPI.D5.2.6.EMPL=</span><span class="fu">as.numeric</span>(ISCE))) <span class="sc">%&gt;%</span> <span class="co"># add in 2022 data</span></span>
<span id="cb50-9"><a href="data-infrastructure-1.html#cb50-9" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.6.EMPL.2022.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2022</span>, <span class="at">SPI.D5.2.6.EMPL=</span><span class="fu">as.numeric</span>(ISCE))) <span class="sc">%&gt;%</span> <span class="co"># add in 2022 data</span></span>
<span id="cb50-10"><a href="data-infrastructure-1.html#cb50-10" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.6.EMPL.2023.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>, <span class="at">SPI.D5.2.6.EMPL=</span><span class="fu">as.numeric</span>(ISCE))) <span class="sc">%&gt;%</span> <span class="co"># add in 2023 data  </span></span>
<span id="cb50-11"><a href="data-infrastructure-1.html#cb50-11" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb50-12"><a href="data-infrastructure-1.html#cb50-12" tabindex="-1"></a>    <span class="at">RAW.D5.2.6.EMPL=</span>EMPL)  <span class="sc">%&gt;%</span></span>
<span id="cb50-13"><a href="data-infrastructure-1.html#cb50-13" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">6.</span>EMPL, SPI.D5.<span class="dv">2</span>.<span class="fl">6.</span>EMPL  ) <span class="sc">%&gt;%</span></span>
<span id="cb50-14"><a href="data-infrastructure-1.html#cb50-14" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c)</span></code></pre></div>
</div>
<div id="central-government-accounting-status" class="section level3 hasAnchor" number="6.2.7">
<h3><span class="header-section-number">6.2.7</span> 5.2.7 Central government accounting status<a href="data-infrastructure-1.html#central-government-accounting-status" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Government finance accounting status refers to the accounting basis for
reporting central government financial data. For many countries’ government
finance data, have been consolidated into one set of accounts capturing all
the central government’s fiscal activities and following noncash recording basis.<br />
Budgetary central government accounts do not necessarily include all central government
units, the picture they provide of central government activities is usually incomplete.</p>
<p>1 Point. Consolidated central government accounting follows noncash recording basis<br />
0.5 Points. Consolidated central government accounting follows cash recording basis<br />
0 Points. Otherwise</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-infrastructure-1.html#cb51-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb51-2"><a href="data-infrastructure-1.html#cb51-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.7.CGOV.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="data-infrastructure-1.html#cb51-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.7.CGOV.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb51-4"><a href="data-infrastructure-1.html#cb51-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.7.CGOV=</span><span class="fu">case_when</span>(</span>
<span id="cb51-5"><a href="data-infrastructure-1.html#cb51-5" tabindex="-1"></a>    CGOV<span class="sc">==</span><span class="st">&quot;AC&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb51-6"><a href="data-infrastructure-1.html#cb51-6" tabindex="-1"></a>    CGOV<span class="sc">==</span><span class="st">&quot;CA&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb51-7"><a href="data-infrastructure-1.html#cb51-7" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb51-8"><a href="data-infrastructure-1.html#cb51-8" tabindex="-1"></a>  ),</span>
<span id="cb51-9"><a href="data-infrastructure-1.html#cb51-9" tabindex="-1"></a>  <span class="at">RAW.D5.2.7.CGOV=</span>CGOV)  <span class="sc">%&gt;%</span></span>
<span id="cb51-10"><a href="data-infrastructure-1.html#cb51-10" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV, SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV  ) <span class="sc">%&gt;%</span></span>
<span id="cb51-11"><a href="data-infrastructure-1.html#cb51-11" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb51-12"><a href="data-infrastructure-1.html#cb51-12" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty)</span>
<span id="cb51-13"><a href="data-infrastructure-1.html#cb51-13" tabindex="-1"></a></span>
<span id="cb51-14"><a href="data-infrastructure-1.html#cb51-14" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb51-15"><a href="data-infrastructure-1.html#cb51-15" tabindex="-1"></a><span class="co"># IMF Data</span></span>
<span id="cb51-16"><a href="data-infrastructure-1.html#cb51-16" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb51-17"><a href="data-infrastructure-1.html#cb51-17" tabindex="-1"></a></span>
<span id="cb51-18"><a href="data-infrastructure-1.html#cb51-18" tabindex="-1"></a><span class="co">#use alternative data source provided by the IMF</span></span>
<span id="cb51-19"><a href="data-infrastructure-1.html#cb51-19" tabindex="-1"></a></span>
<span id="cb51-20"><a href="data-infrastructure-1.html#cb51-20" tabindex="-1"></a><span class="co">#read in data from IMF</span></span>
<span id="cb51-21"><a href="data-infrastructure-1.html#cb51-21" tabindex="-1"></a><span class="co"># 2021</span></span>
<span id="cb51-22"><a href="data-infrastructure-1.html#cb51-22" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2021</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2022.10_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb51-23"><a href="data-infrastructure-1.html#cb51-23" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;5. Cntrl Gct Acct Status&quot;</span>,</span>
<span id="cb51-24"><a href="data-infrastructure-1.html#cb51-24" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">9</span></span>
<span id="cb51-25"><a href="data-infrastructure-1.html#cb51-25" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb51-26"><a href="data-infrastructure-1.html#cb51-26" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb51-27"><a href="data-infrastructure-1.html#cb51-27" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb51-28"><a href="data-infrastructure-1.html#cb51-28" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb51-29"><a href="data-infrastructure-1.html#cb51-29" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb51-30"><a href="data-infrastructure-1.html#cb51-30" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb51-31"><a href="data-infrastructure-1.html#cb51-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.7.CGOV.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb51-32"><a href="data-infrastructure-1.html#cb51-32" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;AC&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb51-33"><a href="data-infrastructure-1.html#cb51-33" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;CA&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb51-34"><a href="data-infrastructure-1.html#cb51-34" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb51-35"><a href="data-infrastructure-1.html#cb51-35" tabindex="-1"></a>  ),</span>
<span id="cb51-36"><a href="data-infrastructure-1.html#cb51-36" tabindex="-1"></a>  <span class="at">RAW.D5.2.7.CGOV.IMF=</span>General.Government..consolidated.) <span class="sc">%&gt;%</span></span>
<span id="cb51-37"><a href="data-infrastructure-1.html#cb51-37" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb51-38"><a href="data-infrastructure-1.html#cb51-38" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb51-39"><a href="data-infrastructure-1.html#cb51-39" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb51-40"><a href="data-infrastructure-1.html#cb51-40" tabindex="-1"></a>        <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb51-41"><a href="data-infrastructure-1.html#cb51-41" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF ) <span class="sc">%&gt;%</span></span>
<span id="cb51-42"><a href="data-infrastructure-1.html#cb51-42" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>)</span>
<span id="cb51-43"><a href="data-infrastructure-1.html#cb51-43" tabindex="-1"></a></span>
<span id="cb51-44"><a href="data-infrastructure-1.html#cb51-44" tabindex="-1"></a><span class="co">#2022</span></span>
<span id="cb51-45"><a href="data-infrastructure-1.html#cb51-45" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2022</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2022.10_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb51-46"><a href="data-infrastructure-1.html#cb51-46" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;5. Cntrl Gct Acct Status&quot;</span>,</span>
<span id="cb51-47"><a href="data-infrastructure-1.html#cb51-47" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">9</span></span>
<span id="cb51-48"><a href="data-infrastructure-1.html#cb51-48" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb51-49"><a href="data-infrastructure-1.html#cb51-49" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb51-50"><a href="data-infrastructure-1.html#cb51-50" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb51-51"><a href="data-infrastructure-1.html#cb51-51" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb51-52"><a href="data-infrastructure-1.html#cb51-52" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb51-53"><a href="data-infrastructure-1.html#cb51-53" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb51-54"><a href="data-infrastructure-1.html#cb51-54" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.7.CGOV.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb51-55"><a href="data-infrastructure-1.html#cb51-55" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;AC&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb51-56"><a href="data-infrastructure-1.html#cb51-56" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;CA&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb51-57"><a href="data-infrastructure-1.html#cb51-57" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb51-58"><a href="data-infrastructure-1.html#cb51-58" tabindex="-1"></a>  ),</span>
<span id="cb51-59"><a href="data-infrastructure-1.html#cb51-59" tabindex="-1"></a>  <span class="at">RAW.D5.2.7.CGOV.IMF=</span>General.Government..consolidated.) <span class="sc">%&gt;%</span></span>
<span id="cb51-60"><a href="data-infrastructure-1.html#cb51-60" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb51-61"><a href="data-infrastructure-1.html#cb51-61" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb51-62"><a href="data-infrastructure-1.html#cb51-62" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb51-63"><a href="data-infrastructure-1.html#cb51-63" tabindex="-1"></a>        <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb51-64"><a href="data-infrastructure-1.html#cb51-64" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF ) <span class="sc">%&gt;%</span></span>
<span id="cb51-65"><a href="data-infrastructure-1.html#cb51-65" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2022</span>)</span>
<span id="cb51-66"><a href="data-infrastructure-1.html#cb51-66" tabindex="-1"></a></span>
<span id="cb51-67"><a href="data-infrastructure-1.html#cb51-67" tabindex="-1"></a></span>
<span id="cb51-68"><a href="data-infrastructure-1.html#cb51-68" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2023</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2024.02_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb51-69"><a href="data-infrastructure-1.html#cb51-69" tabindex="-1"></a>                               <span class="at">sheet =</span> <span class="st">&quot;5. Cntrl Gct Acct Status&quot;</span>,</span>
<span id="cb51-70"><a href="data-infrastructure-1.html#cb51-70" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">9</span></span>
<span id="cb51-71"><a href="data-infrastructure-1.html#cb51-71" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb51-72"><a href="data-infrastructure-1.html#cb51-72" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb51-73"><a href="data-infrastructure-1.html#cb51-73" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb51-74"><a href="data-infrastructure-1.html#cb51-74" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb51-75"><a href="data-infrastructure-1.html#cb51-75" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb51-76"><a href="data-infrastructure-1.html#cb51-76" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb51-77"><a href="data-infrastructure-1.html#cb51-77" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.7.CGOV.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb51-78"><a href="data-infrastructure-1.html#cb51-78" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;AC&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb51-79"><a href="data-infrastructure-1.html#cb51-79" tabindex="-1"></a>    General.Government..consolidated.<span class="sc">==</span><span class="st">&quot;CA&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb51-80"><a href="data-infrastructure-1.html#cb51-80" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb51-81"><a href="data-infrastructure-1.html#cb51-81" tabindex="-1"></a>  ),</span>
<span id="cb51-82"><a href="data-infrastructure-1.html#cb51-82" tabindex="-1"></a>  <span class="at">RAW.D5.2.7.CGOV.IMF=</span>General.Government..consolidated.) <span class="sc">%&gt;%</span></span>
<span id="cb51-83"><a href="data-infrastructure-1.html#cb51-83" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb51-84"><a href="data-infrastructure-1.html#cb51-84" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb51-85"><a href="data-infrastructure-1.html#cb51-85" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb51-86"><a href="data-infrastructure-1.html#cb51-86" tabindex="-1"></a>        <span class="at">iso3c=</span><span class="fu">if_else</span>(iso3c<span class="sc">==</span><span class="st">&quot;KOS&quot;</span>, <span class="st">&#39;XKX&#39;</span>,iso3c) ) <span class="sc">%&gt;%</span> <span class="co">#fix kosovo</span></span>
<span id="cb51-87"><a href="data-infrastructure-1.html#cb51-87" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF ) <span class="sc">%&gt;%</span></span>
<span id="cb51-88"><a href="data-infrastructure-1.html#cb51-88" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>)</span>
<span id="cb51-89"><a href="data-infrastructure-1.html#cb51-89" tabindex="-1"></a>  </span>
<span id="cb51-90"><a href="data-infrastructure-1.html#cb51-90" tabindex="-1"></a></span>
<span id="cb51-91"><a href="data-infrastructure-1.html#cb51-91" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb51-92"><a href="data-infrastructure-1.html#cb51-92" tabindex="-1"></a>  D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2021</span>,</span>
<span id="cb51-93"><a href="data-infrastructure-1.html#cb51-93" tabindex="-1"></a>  D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2022</span>,</span>
<span id="cb51-94"><a href="data-infrastructure-1.html#cb51-94" tabindex="-1"></a>  D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF<span class="fl">.2023</span></span>
<span id="cb51-95"><a href="data-infrastructure-1.html#cb51-95" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb51-96"><a href="data-infrastructure-1.html#cb51-96" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(iso3c))</span>
<span id="cb51-97"><a href="data-infrastructure-1.html#cb51-97" tabindex="-1"></a></span>
<span id="cb51-98"><a href="data-infrastructure-1.html#cb51-98" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV <span class="ot">&lt;-</span>  D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV <span class="sc">%&gt;%</span></span>
<span id="cb51-99"><a href="data-infrastructure-1.html#cb51-99" tabindex="-1"></a>  <span class="fu">full_join</span>(D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb51-100"><a href="data-infrastructure-1.html#cb51-100" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.7.CGOV=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV),SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV)) <span class="sc">%&gt;%</span> <span class="co">#fill in with IMF data if missing.  This applies mostly to high income countries</span></span>
<span id="cb51-101"><a href="data-infrastructure-1.html#cb51-101" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>country,<span class="sc">-</span>SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb51-102"><a href="data-infrastructure-1.html#cb51-102" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb51-103"><a href="data-infrastructure-1.html#cb51-103" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SPI.D5.<span class="dv">2</span>.<span class="fl">7.</span>CGOV))</span></code></pre></div>
</div>
<div id="compilation-of-government-finance-statistics" class="section level3 hasAnchor" number="6.2.8">
<h3><span class="header-section-number">6.2.8</span> 5.2.8 Compilation of government finance statistics<a href="data-infrastructure-1.html#compilation-of-government-finance-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(GFSM) in use for compiling the data. It provides guidelines on the institutional
structure of governments and the presentation of fiscal data in a format similar to
business accounting with a balance sheet and income statement plus guidelines on the
treatment of exchange rate and other valuation adjustments. The latest manual GFSM2014
is harmonized with the SNA2008.</p>
<p>1 Point. Follow the latest Government Finance Statistical Manual (2014)/ ESA2010<br />
0.5 Points. Previous version is used (GFSM 2001)<br />
0 Points. Otherwise</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-infrastructure-1.html#cb52-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb52-2"><a href="data-infrastructure-1.html#cb52-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">8.</span>FINA <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.8.FINA.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="data-infrastructure-1.html#cb52-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.8.FINA.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) ) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb52-4"><a href="data-infrastructure-1.html#cb52-4" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.8.FINA.2022.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>, <span class="at">iso3c=</span>Code)) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb52-5"><a href="data-infrastructure-1.html#cb52-5" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.8.FINA.2022.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2022</span>, <span class="at">iso3c=</span>Code)) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb52-6"><a href="data-infrastructure-1.html#cb52-6" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.8.FINA.2023.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>, <span class="at">iso3c=</span>Code)) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb52-7"><a href="data-infrastructure-1.html#cb52-7" tabindex="-1"></a>  </span>
<span id="cb52-8"><a href="data-infrastructure-1.html#cb52-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.8.FINA=</span><span class="fu">case_when</span>(</span>
<span id="cb52-9"><a href="data-infrastructure-1.html#cb52-9" tabindex="-1"></a>    FINA<span class="sc">==</span><span class="st">&quot;2014&quot;</span> <span class="sc">|</span> FINA<span class="sc">==</span><span class="st">&quot;ESA 2010&quot;</span><span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb52-10"><a href="data-infrastructure-1.html#cb52-10" tabindex="-1"></a>    FINA<span class="sc">==</span><span class="st">&quot;2001&quot;</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb52-11"><a href="data-infrastructure-1.html#cb52-11" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb52-12"><a href="data-infrastructure-1.html#cb52-12" tabindex="-1"></a>  ),</span>
<span id="cb52-13"><a href="data-infrastructure-1.html#cb52-13" tabindex="-1"></a>  <span class="at">RAW.D5.2.8.FINA=</span>FINA)  <span class="sc">%&gt;%</span></span>
<span id="cb52-14"><a href="data-infrastructure-1.html#cb52-14" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">8.</span>FINA, SPI.D5.<span class="dv">2</span>.<span class="fl">8.</span>FINA  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-15"><a href="data-infrastructure-1.html#cb52-15" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c)</span></code></pre></div>
</div>
<div id="compilation-of-monetary-and-financial-statistics" class="section level3 hasAnchor" number="6.2.9">
<h3><span class="header-section-number">6.2.9</span> 5.2.9 Compilation of monetary and financial statistics<a href="data-infrastructure-1.html#compilation-of-monetary-and-financial-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Compilation of monetary and financial statistics refers to the Monetary and Financial Statistics Manual
(MFSM) in use. It covers concepts, definitions, classifications of financial instruments and sectors, and
accounting rules, and provides a comprehensive analytic framework for monetary and financial planning and policy
determination. The Monetary and Finance Statistics: Compilation Guide (2008) provides detailed guidelines for
the compilation of monetary and financial statistics in addition to MFSM.</p>
<p>1 Point. Follow the latest Monetary and Finance Statistics Manual (2000) or Monetary and Finance Statistics: Compilation Guide (2008/2016)
0 Points. Otherwise</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data-infrastructure-1.html#cb53-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb53-2"><a href="data-infrastructure-1.html#cb53-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.9.MONY.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="data-infrastructure-1.html#cb53-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.9.MONY.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb53-4"><a href="data-infrastructure-1.html#cb53-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.9.MONY=</span><span class="fu">case_when</span>(</span>
<span id="cb53-5"><a href="data-infrastructure-1.html#cb53-5" tabindex="-1"></a>    MONY<span class="sc">==</span><span class="st">&quot;MFSM 2000&quot;</span> <span class="sc">|</span> MONY<span class="sc">==</span><span class="st">&quot;MFSMCG 2016&quot;</span><span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb53-6"><a href="data-infrastructure-1.html#cb53-6" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb53-7"><a href="data-infrastructure-1.html#cb53-7" tabindex="-1"></a>  ),</span>
<span id="cb53-8"><a href="data-infrastructure-1.html#cb53-8" tabindex="-1"></a>  <span class="at">RAW.D5.2.9.MONY=</span>MONY)  <span class="sc">%&gt;%</span></span>
<span id="cb53-9"><a href="data-infrastructure-1.html#cb53-9" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY, SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-10"><a href="data-infrastructure-1.html#cb53-10" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb53-11"><a href="data-infrastructure-1.html#cb53-11" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty)</span>
<span id="cb53-12"><a href="data-infrastructure-1.html#cb53-12" tabindex="-1"></a></span>
<span id="cb53-13"><a href="data-infrastructure-1.html#cb53-13" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb53-14"><a href="data-infrastructure-1.html#cb53-14" tabindex="-1"></a><span class="co"># IMF Data</span></span>
<span id="cb53-15"><a href="data-infrastructure-1.html#cb53-15" tabindex="-1"></a><span class="do">#####</span></span>
<span id="cb53-16"><a href="data-infrastructure-1.html#cb53-16" tabindex="-1"></a></span>
<span id="cb53-17"><a href="data-infrastructure-1.html#cb53-17" tabindex="-1"></a><span class="co">#use alternative data source provided by the IMF</span></span>
<span id="cb53-18"><a href="data-infrastructure-1.html#cb53-18" tabindex="-1"></a></span>
<span id="cb53-19"><a href="data-infrastructure-1.html#cb53-19" tabindex="-1"></a><span class="co">#read in data from IMF</span></span>
<span id="cb53-20"><a href="data-infrastructure-1.html#cb53-20" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2020.11.04_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb53-21"><a href="data-infrastructure-1.html#cb53-21" tabindex="-1"></a>                               <span class="at">sheet =</span><span class="st">&quot;7. MFS Compilation status&quot;</span>,</span>
<span id="cb53-22"><a href="data-infrastructure-1.html#cb53-22" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">0</span></span>
<span id="cb53-23"><a href="data-infrastructure-1.html#cb53-23" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb53-24"><a href="data-infrastructure-1.html#cb53-24" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb53-25"><a href="data-infrastructure-1.html#cb53-25" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb53-26"><a href="data-infrastructure-1.html#cb53-26" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb53-27"><a href="data-infrastructure-1.html#cb53-27" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb53-28"><a href="data-infrastructure-1.html#cb53-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-29"><a href="data-infrastructure-1.html#cb53-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.9.MONY.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb53-30"><a href="data-infrastructure-1.html#cb53-30" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">&#39;MFSM 2000&#39;</span>,Monetary.and.Financial.Statistics..MFS..Reporting.Status) <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb53-31"><a href="data-infrastructure-1.html#cb53-31" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb53-32"><a href="data-infrastructure-1.html#cb53-32" tabindex="-1"></a>  ),</span>
<span id="cb53-33"><a href="data-infrastructure-1.html#cb53-33" tabindex="-1"></a>  <span class="at">RAW.D5.2.9.MONY.IMF=</span>Monetary.and.Financial.Statistics..MFS..Reporting.Status) <span class="sc">%&gt;%</span></span>
<span id="cb53-34"><a href="data-infrastructure-1.html#cb53-34" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb53-35"><a href="data-infrastructure-1.html#cb53-35" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb53-36"><a href="data-infrastructure-1.html#cb53-36" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF ) <span class="sc">%&gt;%</span></span>
<span id="cb53-37"><a href="data-infrastructure-1.html#cb53-37" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2020</span>)</span>
<span id="cb53-38"><a href="data-infrastructure-1.html#cb53-38" tabindex="-1"></a></span>
<span id="cb53-39"><a href="data-infrastructure-1.html#cb53-39" tabindex="-1"></a></span>
<span id="cb53-40"><a href="data-infrastructure-1.html#cb53-40" tabindex="-1"></a><span class="co">#read in data from IMF</span></span>
<span id="cb53-41"><a href="data-infrastructure-1.html#cb53-41" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF<span class="fl">.2022</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2022.10_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb53-42"><a href="data-infrastructure-1.html#cb53-42" tabindex="-1"></a>                               <span class="at">sheet =</span><span class="st">&quot;7. MFS Compilation status&quot;</span>,</span>
<span id="cb53-43"><a href="data-infrastructure-1.html#cb53-43" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">0</span></span>
<span id="cb53-44"><a href="data-infrastructure-1.html#cb53-44" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb53-45"><a href="data-infrastructure-1.html#cb53-45" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb53-46"><a href="data-infrastructure-1.html#cb53-46" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb53-47"><a href="data-infrastructure-1.html#cb53-47" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb53-48"><a href="data-infrastructure-1.html#cb53-48" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb53-49"><a href="data-infrastructure-1.html#cb53-49" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-50"><a href="data-infrastructure-1.html#cb53-50" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.9.MONY.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb53-51"><a href="data-infrastructure-1.html#cb53-51" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">&#39;MFSM 2000&#39;</span>,Monetary.and.Financial.Statistics..MFS..Reporting.Status..as.of.October<span class="fl">.2022</span>) <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb53-52"><a href="data-infrastructure-1.html#cb53-52" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb53-53"><a href="data-infrastructure-1.html#cb53-53" tabindex="-1"></a>  ),</span>
<span id="cb53-54"><a href="data-infrastructure-1.html#cb53-54" tabindex="-1"></a>  <span class="at">RAW.D5.2.9.MONY.IMF=</span>Monetary.and.Financial.Statistics..MFS..Reporting.Status..as.of.October<span class="fl">.2022</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-55"><a href="data-infrastructure-1.html#cb53-55" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb53-56"><a href="data-infrastructure-1.html#cb53-56" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb53-57"><a href="data-infrastructure-1.html#cb53-57" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF ) </span>
<span id="cb53-58"><a href="data-infrastructure-1.html#cb53-58" tabindex="-1"></a></span>
<span id="cb53-59"><a href="data-infrastructure-1.html#cb53-59" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF<span class="fl">.2023</span> <span class="ot">&lt;-</span>   <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;2024.02_Compiled Data for World Bank.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ),</span>
<span id="cb53-60"><a href="data-infrastructure-1.html#cb53-60" tabindex="-1"></a>                               <span class="at">sheet =</span><span class="st">&quot;7. MFS Compilation status&quot;</span>,</span>
<span id="cb53-61"><a href="data-infrastructure-1.html#cb53-61" tabindex="-1"></a>                               <span class="at">skip=</span><span class="dv">0</span></span>
<span id="cb53-62"><a href="data-infrastructure-1.html#cb53-62" tabindex="-1"></a>                               ) <span class="sc">%&gt;%</span></span>
<span id="cb53-63"><a href="data-infrastructure-1.html#cb53-63" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair=</span><span class="st">&#39;universal&#39;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb53-64"><a href="data-infrastructure-1.html#cb53-64" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb53-65"><a href="data-infrastructure-1.html#cb53-65" tabindex="-1"></a>    <span class="at">IMF_code=</span>Code,</span>
<span id="cb53-66"><a href="data-infrastructure-1.html#cb53-66" tabindex="-1"></a>    <span class="at">IMF_country=</span>Country,</span>
<span id="cb53-67"><a href="data-infrastructure-1.html#cb53-67" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-68"><a href="data-infrastructure-1.html#cb53-68" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.9.MONY.IMF=</span><span class="fu">case_when</span>(</span>
<span id="cb53-69"><a href="data-infrastructure-1.html#cb53-69" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">&#39;MFSM 2000&#39;</span>,Monetary.and.Financial.Statistics..MFS..Reporting.Status..as.of.January<span class="fl">.2024</span>) <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb53-70"><a href="data-infrastructure-1.html#cb53-70" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb53-71"><a href="data-infrastructure-1.html#cb53-71" tabindex="-1"></a>  ),</span>
<span id="cb53-72"><a href="data-infrastructure-1.html#cb53-72" tabindex="-1"></a>  <span class="at">RAW.D5.2.9.MONY.IMF=</span>Monetary.and.Financial.Statistics..MFS..Reporting.Status..as.of.January<span class="fl">.2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-73"><a href="data-infrastructure-1.html#cb53-73" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IMF_code=</span><span class="fu">as.numeric</span>(IMF_code)) <span class="sc">%&gt;%</span></span>
<span id="cb53-74"><a href="data-infrastructure-1.html#cb53-74" tabindex="-1"></a>  <span class="fu">left_join</span>(imf_codes) <span class="sc">%&gt;%</span></span>
<span id="cb53-75"><a href="data-infrastructure-1.html#cb53-75" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, RAW.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF ) </span>
<span id="cb53-76"><a href="data-infrastructure-1.html#cb53-76" tabindex="-1"></a></span>
<span id="cb53-77"><a href="data-infrastructure-1.html#cb53-77" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF <span class="ot">&lt;-</span> D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF <span class="sc">%&gt;%</span></span>
<span id="cb53-78"><a href="data-infrastructure-1.html#cb53-78" tabindex="-1"></a>  <span class="fu">bind_rows</span>(D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF<span class="fl">.2022</span> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-79"><a href="data-infrastructure-1.html#cb53-79" tabindex="-1"></a>  <span class="fu">bind_rows</span>(D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF<span class="fl">.2022</span> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2022</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-80"><a href="data-infrastructure-1.html#cb53-80" tabindex="-1"></a>  <span class="fu">bind_rows</span>(D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF<span class="fl">.2023</span> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb53-81"><a href="data-infrastructure-1.html#cb53-81" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(iso3c))</span>
<span id="cb53-82"><a href="data-infrastructure-1.html#cb53-82" tabindex="-1"></a>  </span>
<span id="cb53-83"><a href="data-infrastructure-1.html#cb53-83" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY <span class="ot">&lt;-</span>  D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY <span class="sc">%&gt;%</span></span>
<span id="cb53-84"><a href="data-infrastructure-1.html#cb53-84" tabindex="-1"></a>  <span class="fu">full_join</span>(D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb53-85"><a href="data-infrastructure-1.html#cb53-85" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.9.MONY=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY),SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF,SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> <span class="co">#fill in with IMF data if missing.  This applies mostly to high income countries</span></span>
<span id="cb53-86"><a href="data-infrastructure-1.html#cb53-86" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>SPI.D5.<span class="dv">2</span>.<span class="fl">9.</span>MONY.IMF) <span class="sc">%&gt;%</span></span>
<span id="cb53-87"><a href="data-infrastructure-1.html#cb53-87" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c)</span></code></pre></div>
</div>
<div id="business-process" class="section level3 hasAnchor" number="6.2.10">
<h3><span class="header-section-number">6.2.10</span> 5.2.10 Business process<a href="data-infrastructure-1.html#business-process" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Generic Statistical Business Process Model (GSBPM) aims to describe
statistics production in a general and process-oriented way. It is used
both within and between statistical offices as a common basis for work with
statistics production in different ways, such as quality, efficiency, standardization,
and process-orientation. It is used for all types of surveys, and “business” is not
related to “business statistics” but refers to the statistical office, simply expressed.</p>
<p>1 Point. GSBPM is in use
0 Points. Otherwise</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-infrastructure-1.html#cb54-1" tabindex="-1"></a><span class="co">#read in csv file.</span></span>
<span id="cb54-2"><a href="data-infrastructure-1.html#cb54-2" tabindex="-1"></a>D5.<span class="dv">2</span>.<span class="fl">10.</span>GSBP <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.10.GSBP.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="data-infrastructure-1.html#cb54-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.10.GSBP.2020.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))) <span class="sc">%&gt;%</span> <span class="co">#add in 2020 data</span></span>
<span id="cb54-4"><a href="data-infrastructure-1.html#cb54-4" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.10.GSBP.2021.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> )) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2021</span>)) <span class="sc">%&gt;%</span> <span class="co">#add in 2021 data</span></span>
<span id="cb54-5"><a href="data-infrastructure-1.html#cb54-5" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.10.GSBP.2022.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))<span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2022</span>)) <span class="sc">%&gt;%</span> <span class="co">#add in 2022 data</span></span>
<span id="cb54-6"><a href="data-infrastructure-1.html#cb54-6" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.2_DISM&quot;</span>,<span class="st">&quot;D5.2.10.GSBP.2023.csv&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span> ))<span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date=</span><span class="dv">2023</span>)) <span class="sc">%&gt;%</span> <span class="co">#add in 2022 data</span></span>
<span id="cb54-7"><a href="data-infrastructure-1.html#cb54-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SPI.D5.2.10.GSBP=</span><span class="fu">case_when</span>(</span>
<span id="cb54-8"><a href="data-infrastructure-1.html#cb54-8" tabindex="-1"></a>    <span class="fu">str_to_lower</span>(GSBP)<span class="sc">==</span><span class="st">&quot;yes&quot;</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb54-9"><a href="data-infrastructure-1.html#cb54-9" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> </span>
<span id="cb54-10"><a href="data-infrastructure-1.html#cb54-10" tabindex="-1"></a>  ),</span>
<span id="cb54-11"><a href="data-infrastructure-1.html#cb54-11" tabindex="-1"></a>  <span class="at">RAW.D5.2.10.GSBP=</span>GSBP)  <span class="sc">%&gt;%</span></span>
<span id="cb54-12"><a href="data-infrastructure-1.html#cb54-12" tabindex="-1"></a>  <span class="fu">select</span>(iso3c,  date, RAW.D5.<span class="dv">2</span>.<span class="fl">10.</span>GSBP, SPI.D5.<span class="dv">2</span>.<span class="fl">10.</span>GSBP  ) <span class="sc">%&gt;%</span></span>
<span id="cb54-13"><a href="data-infrastructure-1.html#cb54-13" tabindex="-1"></a>  <span class="fu">arrange</span>(date, iso3c)</span></code></pre></div>
<p><img src="01-SPI_data_prep_files/figure-html/msc-1.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-2.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-3.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-4.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-5.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-6.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-7.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-8.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-9.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-10.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-11.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-12.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-13.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-14.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-15.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-16.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-17.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-18.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-19.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-20.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-21.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-22.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-23.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-24.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-25.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-26.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-27.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-28.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-29.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-30.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-31.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-32.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-33.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-34.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-35.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-36.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-37.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-38.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-39.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/msc-40.png" width="960" /></p>
</div>
</div>
<div id="dimension-5.3-skills" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Dimension 5.3: Skills<a href="data-infrastructure-1.html#dimension-5.3-skills" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Two indicators from the GovTech Maturity Index are included in this dimension. These include the Core Government Systems Index (CGSI) and the GovTech Enablers Index (GTEI). From the documentation: <a href="https://www.worldbank.org/en/programs/govtech/gtmi" class="uri">https://www.worldbank.org/en/programs/govtech/gtmi</a></p>
<p>The GovTech Maturity Index (GTMI) was developed as part of the GovTech Initiative to introduce a measure of GovTech maturity in four focus areas — supporting core government systems, enhancing service delivery, mainstreaming citizen engagement, and fostering GovTech enablers— and to assist practitioners in the design of new digital transformation projects. Constructed for 198 economies, the GTMI is the most comprehensive measure of digital transformation in the public sector. The GTMI is not intended to create a ranking or assess a country’s readiness for or performance of GovTech; rather, it is intended to complement existing tools and diagnostics by providing a baseline and benchmark for GovTech maturity and identifying areas for improvement.</p>
<p>The 2022 version of the GTMI is the simple average of the normalized scores of four components:</p>
<p>CGSI: The Core Government Systems Index (17 indicators) captures the key aspects of a whole-of-government approach, including government cloud, interoperability framework and other platforms.</p>
<p>GTEI: The GovTech Enablers Index (16 indicators) captures strategy, institutions, laws, and regulations, as well as digital skills, and innovation policies and programs, to foster GovTech.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-infrastructure-1.html#cb55-1" tabindex="-1"></a><span class="co">#read in the GTMI data</span></span>
<span id="cb55-2"><a href="data-infrastructure-1.html#cb55-2" tabindex="-1"></a>gtmi_df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="at">path=</span><span class="fu">paste</span>(raw_dir, <span class="st">&quot;5.3_DISK&quot;</span>, <span class="st">&quot;WBG_GovTech Dataset_Oct2022.xlsx&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>),</span>
<span id="cb55-3"><a href="data-infrastructure-1.html#cb55-3" tabindex="-1"></a>                      <span class="at">sheet=</span><span class="st">&quot;CG_GTMI_Groups&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="data-infrastructure-1.html#cb55-4" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb55-5"><a href="data-infrastructure-1.html#cb55-5" tabindex="-1"></a>    <span class="at">iso3c=</span>Code,</span>
<span id="cb55-6"><a href="data-infrastructure-1.html#cb55-6" tabindex="-1"></a>    <span class="at">date=</span>Year,</span>
<span id="cb55-7"><a href="data-infrastructure-1.html#cb55-7" tabindex="-1"></a>    <span class="at">D.5.3.CGSI=</span>CGSI,</span>
<span id="cb55-8"><a href="data-infrastructure-1.html#cb55-8" tabindex="-1"></a>    <span class="at">D.5.3.GTEI=</span>GTEI</span>
<span id="cb55-9"><a href="data-infrastructure-1.html#cb55-9" tabindex="-1"></a>  )</span>
<span id="cb55-10"><a href="data-infrastructure-1.html#cb55-10" tabindex="-1"></a></span>
<span id="cb55-11"><a href="data-infrastructure-1.html#cb55-11" tabindex="-1"></a>D5<span class="fl">.3</span>_DISK <span class="ot">&lt;-</span> spi_df_empty <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="data-infrastructure-1.html#cb55-12" tabindex="-1"></a>  <span class="fu">left_join</span>(gtmi_df) </span>
<span id="cb55-13"><a href="data-infrastructure-1.html#cb55-13" tabindex="-1"></a></span>
<span id="cb55-14"><a href="data-infrastructure-1.html#cb55-14" tabindex="-1"></a><span class="co">#add to spi databases</span></span>
<span id="cb55-15"><a href="data-infrastructure-1.html#cb55-15" tabindex="-1"></a>spi_df <span class="ot">&lt;-</span> spi_df <span class="sc">%&gt;%</span></span>
<span id="cb55-16"><a href="data-infrastructure-1.html#cb55-16" tabindex="-1"></a>  <span class="fu">left_join</span>(D5<span class="fl">.3</span>_DISK)</span>
<span id="cb55-17"><a href="data-infrastructure-1.html#cb55-17" tabindex="-1"></a></span>
<span id="cb55-18"><a href="data-infrastructure-1.html#cb55-18" tabindex="-1"></a>D5<span class="fl">.3</span>_DISK_map <span class="ot">&lt;-</span> D5<span class="fl">.3</span>_DISK <span class="sc">%&gt;%</span></span>
<span id="cb55-19"><a href="data-infrastructure-1.html#cb55-19" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(D.<span class="dv">5</span>.<span class="fl">3.</span>CGSI))</span>
<span id="cb55-20"><a href="data-infrastructure-1.html#cb55-20" tabindex="-1"></a></span>
<span id="cb55-21"><a href="data-infrastructure-1.html#cb55-21" tabindex="-1"></a><span class="fu">spi_mapper</span>(<span class="st">&#39;D5.3_DISK_map&#39;</span>, <span class="st">&#39;D.5.3.CGSI&#39;</span>, <span class="st">&#39;Core Government Systems Index. Source: World Bank&#39;</span>)</span></code></pre></div>
<p><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-1.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-2.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-3.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-4.png" width="960" /></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-infrastructure-1.html#cb56-1" tabindex="-1"></a><span class="fu">spi_mapper</span>(<span class="st">&#39;D5.3_DISK_map&#39;</span>, <span class="st">&#39;D.5.3.GTEI&#39;</span>, <span class="st">&#39;GovTech Enablers Index. Source: World Bank&#39;</span>)</span></code></pre></div>
<p><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-5.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-6.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-7.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/unnamed-chunk-1-8.png" width="960" /></p>
</div>
<div id="dimension-5.4-partnerships" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Dimension 5.4: partnerships<a href="data-infrastructure-1.html#dimension-5.4-partnerships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Not included because of lack of established methodology or suitable data sources.</p>
</div>
<div id="dimension-5.5-finance" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Dimension 5.5: finance<a href="data-infrastructure-1.html#dimension-5.5-finance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Indicator based on SDG indicators (SDG 17.18.3 (national statistical plan that is fully funded and under implementation). This indicator measures whether the national statistical plan under implementation is fully funded. It relates to SDG 17.18.3 and is based on the annual Status Report on National Strategies for the Development of Statistics (NSDS).</p>
<p>Scores is 1 if the country has a national statistical plan that is fully funded and under implementation. Scores of 0 given a score of zero.</p>
<p>The source is Paris 21 and UNSD. Data accessed using UNSD SDG API on 2024-04-04</p>
<p>Source of this data is UNSD and Paris21.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-infrastructure-1.html#cb57-1" tabindex="-1"></a><span class="co">#pull from unsd api</span></span>
<span id="cb57-2"><a href="data-infrastructure-1.html#cb57-2" tabindex="-1"></a>D5<span class="fl">.5</span>_DIFI <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file=</span><span class="fu">paste</span>(raw_dir, <span class="st">&#39;5.1_DILG&#39;</span>, <span class="st">&#39;SG_STT_FPOS.csv&#39;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="data-infrastructure-1.html#cb57-3" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, date,ind_value) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="data-infrastructure-1.html#cb57-4" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty) <span class="sc">%&gt;%</span></span>
<span id="cb57-5"><a href="data-infrastructure-1.html#cb57-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RAW.D5.5.DIFI=</span><span class="fu">if_else</span>((<span class="fu">is.na</span>(ind_value) <span class="sc">|</span> ind_value<span class="sc">==</span><span class="st">&quot;NaN&quot;</span>),<span class="fu">as.numeric</span>(<span class="cn">NA</span>), <span class="fu">as.numeric</span>(ind_value)),</span>
<span id="cb57-6"><a href="data-infrastructure-1.html#cb57-6" tabindex="-1"></a>         <span class="at">SPI.D5.5.DIFI=</span><span class="fu">if_else</span>((<span class="fu">is.na</span>(ind_value) <span class="sc">|</span> ind_value<span class="sc">==</span><span class="st">&quot;NaN&quot;</span>),<span class="fu">as.numeric</span>(<span class="cn">NA</span>), <span class="fu">as.numeric</span>(ind_value))) <span class="sc">%&gt;%</span></span>
<span id="cb57-7"><a href="data-infrastructure-1.html#cb57-7" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ind_value)</span>
<span id="cb57-8"><a href="data-infrastructure-1.html#cb57-8" tabindex="-1"></a></span>
<span id="cb57-9"><a href="data-infrastructure-1.html#cb57-9" tabindex="-1"></a></span>
<span id="cb57-10"><a href="data-infrastructure-1.html#cb57-10" tabindex="-1"></a><span class="co"># #read in csv file.</span></span>
<span id="cb57-11"><a href="data-infrastructure-1.html#cb57-11" tabindex="-1"></a><span class="co"># D5.5_DIFI &lt;- read_csv(file = paste(raw_dir, &quot;5.5_DIFI&quot;,&quot;D5.5_DIFI.csv&quot;, sep=&quot;/&quot; )) %&gt;%</span></span>
<span id="cb57-12"><a href="data-infrastructure-1.html#cb57-12" tabindex="-1"></a><span class="co">#   as_tibble(.name_repair = &#39;universal&#39;) %&gt;%</span></span>
<span id="cb57-13"><a href="data-infrastructure-1.html#cb57-13" tabindex="-1"></a><span class="co">#   transmute(</span></span>
<span id="cb57-14"><a href="data-infrastructure-1.html#cb57-14" tabindex="-1"></a><span class="co">#     country=Country,</span></span>
<span id="cb57-15"><a href="data-infrastructure-1.html#cb57-15" tabindex="-1"></a><span class="co">#     date=Year,</span></span>
<span id="cb57-16"><a href="data-infrastructure-1.html#cb57-16" tabindex="-1"></a><span class="co">#     SPI.5.5.DIFI=Data.Value</span></span>
<span id="cb57-17"><a href="data-infrastructure-1.html#cb57-17" tabindex="-1"></a><span class="co">#   ) %&gt;%</span></span>
<span id="cb57-18"><a href="data-infrastructure-1.html#cb57-18" tabindex="-1"></a><span class="co">#     mutate(country=case_when(</span></span>
<span id="cb57-19"><a href="data-infrastructure-1.html#cb57-19" tabindex="-1"></a><span class="co">#     country==&quot;Bahamas&quot; ~ &quot;Bahamas, The&quot;,                  </span></span>
<span id="cb57-20"><a href="data-infrastructure-1.html#cb57-20" tabindex="-1"></a><span class="co">#     country==&quot;Bolivia (Plurinational State of)&quot;   ~  &quot;Bolivia&quot;   ,                  </span></span>
<span id="cb57-21"><a href="data-infrastructure-1.html#cb57-21" tabindex="-1"></a><span class="co">#     country==&quot;Côte d&#39;Ivoire&quot;  ~  &quot;Cote d&#39;Ivoire&quot;                ,</span></span>
<span id="cb57-22"><a href="data-infrastructure-1.html#cb57-22" tabindex="-1"></a><span class="co">#     country==&quot;Democratic Republic of the Congo&quot;  ~ &quot;Congo, Dem. Rep.&quot;  ,           </span></span>
<span id="cb57-23"><a href="data-infrastructure-1.html#cb57-23" tabindex="-1"></a><span class="co">#     country==&quot;Congo&quot;  ~ &quot;Congo, Rep.&quot;        ,           </span></span>
<span id="cb57-24"><a href="data-infrastructure-1.html#cb57-24" tabindex="-1"></a><span class="co">#     country==&quot;Curacao&quot;  ~  &quot;Curacao&quot;       ,                </span></span>
<span id="cb57-25"><a href="data-infrastructure-1.html#cb57-25" tabindex="-1"></a><span class="co">#     country==&quot;Czechia&quot;   ~  &quot;Czech Republic&quot;     ,        </span></span>
<span id="cb57-26"><a href="data-infrastructure-1.html#cb57-26" tabindex="-1"></a><span class="co">#     country==&quot;Egypt&quot;  ~ &quot;Egypt, Arab Rep.&quot;        ,      </span></span>
<span id="cb57-27"><a href="data-infrastructure-1.html#cb57-27" tabindex="-1"></a><span class="co">#     country==&quot;Micronesia (Federated States of)&quot;  ~ &quot;Micronesia, Fed. Sts.&quot;  ,       </span></span>
<span id="cb57-28"><a href="data-infrastructure-1.html#cb57-28" tabindex="-1"></a><span class="co">#     country==&quot;United Kingdom&quot;   ~  &quot;United Kingdom&quot;    ,         </span></span>
<span id="cb57-29"><a href="data-infrastructure-1.html#cb57-29" tabindex="-1"></a><span class="co">#     country==&quot;Gambia&quot;    ~  &quot;Gambia, The&quot;     ,           </span></span>
<span id="cb57-30"><a href="data-infrastructure-1.html#cb57-30" tabindex="-1"></a><span class="co">#     country==&quot;Iran (Islamic Republic of)&quot;  ~ &quot;Iran, Islamic Rep.&quot; ,           </span></span>
<span id="cb57-31"><a href="data-infrastructure-1.html#cb57-31" tabindex="-1"></a><span class="co">#     country==&quot;Kyrgyzstan&quot;   ~  &quot;Kyrgyz Republic&quot;   ,          </span></span>
<span id="cb57-32"><a href="data-infrastructure-1.html#cb57-32" tabindex="-1"></a><span class="co">#     country==&quot;Republic of Korea&quot;   ~ &quot;Korea, Rep.&quot;   ,               </span></span>
<span id="cb57-33"><a href="data-infrastructure-1.html#cb57-33" tabindex="-1"></a><span class="co">#     country==&quot;Lao People&#39;s Democratic Republic&quot;    ~  &quot;Lao PDR&quot; ,                    </span></span>
<span id="cb57-34"><a href="data-infrastructure-1.html#cb57-34" tabindex="-1"></a><span class="co">#     country==&quot;Saint Kitts and Nevis   &quot;   ~ &quot;St. Kitts and Nevis&quot;,</span></span>
<span id="cb57-35"><a href="data-infrastructure-1.html#cb57-35" tabindex="-1"></a><span class="co">#     country==&quot;Saint Lucia&quot;   ~ &quot;St. Lucia&quot;,</span></span>
<span id="cb57-36"><a href="data-infrastructure-1.html#cb57-36" tabindex="-1"></a><span class="co">#     country==&quot;Republic of Moldova&quot;   ~  &quot;Moldova&quot;   ,                  </span></span>
<span id="cb57-37"><a href="data-infrastructure-1.html#cb57-37" tabindex="-1"></a><span class="co">#     country==&quot;Democratic People&#39;s Republic of Korea&quot;  ~  &quot;Korea, Dem. People’s Rep.&quot; ,  </span></span>
<span id="cb57-38"><a href="data-infrastructure-1.html#cb57-38" tabindex="-1"></a><span class="co">#     country==&quot;Slovakia&quot;   ~  &quot;Slovak Republic&quot;             ,</span></span>
<span id="cb57-39"><a href="data-infrastructure-1.html#cb57-39" tabindex="-1"></a><span class="co">#     country==&quot;United Republic of Tanzania&quot;   ~  &quot;Tanzania&quot; ,                    </span></span>
<span id="cb57-40"><a href="data-infrastructure-1.html#cb57-40" tabindex="-1"></a><span class="co">#     country==&quot;United States of America&quot;  ~ &quot;United States&quot;  ,                </span></span>
<span id="cb57-41"><a href="data-infrastructure-1.html#cb57-41" tabindex="-1"></a><span class="co">#     country==&quot;Saint Vincent and the Grenadines&quot; ~ &quot;St. Vincent and the Grenadines&quot; ,</span></span>
<span id="cb57-42"><a href="data-infrastructure-1.html#cb57-42" tabindex="-1"></a><span class="co">#     country==&quot;Venezuela (Bolivarian Republic of)&quot;  ~  &quot;Venezuela, RB&quot;   ,              </span></span>
<span id="cb57-43"><a href="data-infrastructure-1.html#cb57-43" tabindex="-1"></a><span class="co">#     country==&quot;British Virgin Islands&quot;  ~  &quot;British Virgin Islands&quot; ,       </span></span>
<span id="cb57-44"><a href="data-infrastructure-1.html#cb57-44" tabindex="-1"></a><span class="co">#     country==&quot;Viet Nam&quot;  ~ &quot;Vietnam&quot;        ,              </span></span>
<span id="cb57-45"><a href="data-infrastructure-1.html#cb57-45" tabindex="-1"></a><span class="co">#     country==&quot;Yemen&quot;  ~ &quot;Yemen, Rep.&quot;,</span></span>
<span id="cb57-46"><a href="data-infrastructure-1.html#cb57-46" tabindex="-1"></a><span class="co">#     country==&quot;United Kingdom of Great Britain and Northern Ireland&quot; ~ &quot;United Kingdom&quot;,</span></span>
<span id="cb57-47"><a href="data-infrastructure-1.html#cb57-47" tabindex="-1"></a><span class="co">#     TRUE ~ country</span></span>
<span id="cb57-48"><a href="data-infrastructure-1.html#cb57-48" tabindex="-1"></a><span class="co">#   )) %&gt;%</span></span>
<span id="cb57-49"><a href="data-infrastructure-1.html#cb57-49" tabindex="-1"></a><span class="co">#   mutate(RAW.5.5.DIFI=if_else(SPI.5.5.DIFI==&#39;no data&#39;,as.character(NA), SPI.5.5.DIFI),</span></span>
<span id="cb57-50"><a href="data-infrastructure-1.html#cb57-50" tabindex="-1"></a><span class="co">#          SPI.5.5.DIFI=if_else(SPI.5.5.DIFI==&#39;no data&#39;,as.numeric(NA), as.numeric(SPI.5.5.DIFI))) %&gt;%</span></span>
<span id="cb57-51"><a href="data-infrastructure-1.html#cb57-51" tabindex="-1"></a><span class="co">#   right_join(spi_df_empty)</span></span>
<span id="cb57-52"><a href="data-infrastructure-1.html#cb57-52" tabindex="-1"></a></span>
<span id="cb57-53"><a href="data-infrastructure-1.html#cb57-53" tabindex="-1"></a><span class="co">#add to spi databases</span></span>
<span id="cb57-54"><a href="data-infrastructure-1.html#cb57-54" tabindex="-1"></a>spi_df <span class="ot">&lt;-</span> spi_df <span class="sc">%&gt;%</span></span>
<span id="cb57-55"><a href="data-infrastructure-1.html#cb57-55" tabindex="-1"></a>  <span class="fu">left_join</span>(D5<span class="fl">.5</span>_DIFI)</span>
<span id="cb57-56"><a href="data-infrastructure-1.html#cb57-56" tabindex="-1"></a></span>
<span id="cb57-57"><a href="data-infrastructure-1.html#cb57-57" tabindex="-1"></a></span>
<span id="cb57-58"><a href="data-infrastructure-1.html#cb57-58" tabindex="-1"></a></span>
<span id="cb57-59"><a href="data-infrastructure-1.html#cb57-59" tabindex="-1"></a></span>
<span id="cb57-60"><a href="data-infrastructure-1.html#cb57-60" tabindex="-1"></a></span>
<span id="cb57-61"><a href="data-infrastructure-1.html#cb57-61" tabindex="-1"></a>D5<span class="fl">.5</span>_DIFI_map <span class="ot">&lt;-</span> D5<span class="fl">.5</span>_DIFI <span class="sc">%&gt;%</span></span>
<span id="cb57-62"><a href="data-infrastructure-1.html#cb57-62" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SPI.D5.<span class="fl">5.</span>DIFI))</span>
<span id="cb57-63"><a href="data-infrastructure-1.html#cb57-63" tabindex="-1"></a></span>
<span id="cb57-64"><a href="data-infrastructure-1.html#cb57-64" tabindex="-1"></a><span class="fu">spi_mapper</span>(<span class="st">&#39;D5.5_DIFI_map&#39;</span>, <span class="st">&#39;RAW.D5.5.DIFI&#39;</span>, <span class="st">&#39;Statistical plan fully funded. Source: Paris21&#39;</span>)</span></code></pre></div>
<p><img src="01-SPI_data_prep_files/figure-html/finance-1.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/finance-2.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/finance-3.png" width="960" /><img src="01-SPI_data_prep_files/figure-html/finance-4.png" width="960" /></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-infrastructure-1.html#cb58-1" tabindex="-1"></a><span class="co">#add in population</span></span>
<span id="cb58-2"><a href="data-infrastructure-1.html#cb58-2" tabindex="-1"></a>pop_df <span class="ot">&lt;-</span> wbstats<span class="sc">::</span><span class="fu">wb</span>(<span class="at">country=</span><span class="st">&quot;all&quot;</span>,</span>
<span id="cb58-3"><a href="data-infrastructure-1.html#cb58-3" tabindex="-1"></a>             <span class="at">indicator=</span><span class="st">&#39;SP.POP.TOTL&#39;</span>,</span>
<span id="cb58-4"><a href="data-infrastructure-1.html#cb58-4" tabindex="-1"></a>             <span class="at">startdate=</span><span class="dv">2004</span>,</span>
<span id="cb58-5"><a href="data-infrastructure-1.html#cb58-5" tabindex="-1"></a>             <span class="at">enddate=</span>end_date) <span class="sc">%&gt;%</span></span>
<span id="cb58-6"><a href="data-infrastructure-1.html#cb58-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="fu">as.numeric</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb58-7"><a href="data-infrastructure-1.html#cb58-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">population=</span>value) <span class="sc">%&gt;%</span></span>
<span id="cb58-8"><a href="data-infrastructure-1.html#cb58-8" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, date, population)</span>
<span id="cb58-9"><a href="data-infrastructure-1.html#cb58-9" tabindex="-1"></a></span>
<span id="cb58-10"><a href="data-infrastructure-1.html#cb58-10" tabindex="-1"></a><span class="co"># create final dataset</span></span>
<span id="cb58-11"><a href="data-infrastructure-1.html#cb58-11" tabindex="-1"></a>spi_df_final <span class="ot">&lt;-</span> spi_df <span class="sc">%&gt;%</span></span>
<span id="cb58-12"><a href="data-infrastructure-1.html#cb58-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(iso3c, date, <span class="fu">starts_with</span>(<span class="st">&quot;SPI&quot;</span>), <span class="fu">starts_with</span>(<span class="st">&quot;RAW&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb58-13"><a href="data-infrastructure-1.html#cb58-13" tabindex="-1"></a>  <span class="fu">right_join</span>(spi_df_empty) <span class="sc">%&gt;%</span></span>
<span id="cb58-14"><a href="data-infrastructure-1.html#cb58-14" tabindex="-1"></a>  <span class="fu">left_join</span>(pop_df) <span class="sc">%&gt;%</span></span>
<span id="cb58-15"><a href="data-infrastructure-1.html#cb58-15" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>date,iso3c)</span>
<span id="cb58-16"><a href="data-infrastructure-1.html#cb58-16" tabindex="-1"></a></span>
<span id="cb58-17"><a href="data-infrastructure-1.html#cb58-17" tabindex="-1"></a></span>
<span id="cb58-18"><a href="data-infrastructure-1.html#cb58-18" tabindex="-1"></a><span class="do">####</span></span>
<span id="cb58-19"><a href="data-infrastructure-1.html#cb58-19" tabindex="-1"></a><span class="co">#lining up data to end_date and filling in some values for OECD countries.  </span></span>
<span id="cb58-20"><a href="data-infrastructure-1.html#cb58-20" tabindex="-1"></a><span class="do">####</span></span>
<span id="cb58-21"><a href="data-infrastructure-1.html#cb58-21" tabindex="-1"></a><span class="co">#get a list of oecd countries</span></span>
<span id="cb58-22"><a href="data-infrastructure-1.html#cb58-22" tabindex="-1"></a>oecd_country_query <span class="ot">&lt;-</span>  <span class="fu">GET</span>(<span class="at">url =</span> <span class="st">&quot;https://api.worldbank.org/v2/country?region=OED&amp;format=json&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb58-23"><a href="data-infrastructure-1.html#cb58-23" tabindex="-1"></a>  <span class="fu">content</span>( <span class="at">as =</span> <span class="st">&quot;text&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb58-24"><a href="data-infrastructure-1.html#cb58-24" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>( <span class="at">flatten =</span> <span class="cn">TRUE</span>) </span>
<span id="cb58-25"><a href="data-infrastructure-1.html#cb58-25" tabindex="-1"></a></span>
<span id="cb58-26"><a href="data-infrastructure-1.html#cb58-26" tabindex="-1"></a><span class="co">#do some conversion to produce a dataframe</span></span>
<span id="cb58-27"><a href="data-infrastructure-1.html#cb58-27" tabindex="-1"></a>oecd_country_df <span class="ot">&lt;-</span> oecd_country_query[[<span class="dv">2</span>]] <span class="sc">%&gt;%</span></span>
<span id="cb58-28"><a href="data-infrastructure-1.html#cb58-28" tabindex="-1"></a>  <span class="fu">as_tibble</span>() </span>
<span id="cb58-29"><a href="data-infrastructure-1.html#cb58-29" tabindex="-1"></a>  </span>
<span id="cb58-30"><a href="data-infrastructure-1.html#cb58-30" tabindex="-1"></a>country_mod_list <span class="ot">&lt;-</span> oecd_country_df<span class="sc">$</span>name  <span class="co">#fill in the missing values for OECDs with 1s because by participating in OECD these countries have this</span></span>
<span id="cb58-31"><a href="data-infrastructure-1.html#cb58-31" tabindex="-1"></a>country_mod_list <span class="ot">&lt;-</span> <span class="fu">c</span>(country_mod_list, <span class="st">&#39;Singapore&#39;</span>)</span>
<span id="cb58-32"><a href="data-infrastructure-1.html#cb58-32" tabindex="-1"></a>spi_df_final <span class="ot">&lt;-</span> spi_df_final <span class="sc">%&gt;%</span></span>
<span id="cb58-33"><a href="data-infrastructure-1.html#cb58-33" tabindex="-1"></a>  <span class="fu">arrange</span>(country, date) <span class="sc">%&gt;%</span></span>
<span id="cb58-34"><a href="data-infrastructure-1.html#cb58-34" tabindex="-1"></a>  <span class="fu">group_by</span>(iso3c) <span class="sc">%&gt;%</span></span>
<span id="cb58-35"><a href="data-infrastructure-1.html#cb58-35" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;SPI&quot;</span>), na.locf, <span class="at">na.rm=</span><span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb58-36"><a href="data-infrastructure-1.html#cb58-36" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">&quot;SPI.D1.5.POV&quot;</span>,</span>
<span id="cb58-37"><a href="data-infrastructure-1.html#cb58-37" tabindex="-1"></a>                  <span class="st">&quot;SPI.D2.1.GDDS&quot;</span>,</span>
<span id="cb58-38"><a href="data-infrastructure-1.html#cb58-38" tabindex="-1"></a>                  <span class="st">&quot;SPI.D5.1.DILG&quot;</span>,</span>
<span id="cb58-39"><a href="data-infrastructure-1.html#cb58-39" tabindex="-1"></a>                  <span class="st">&quot;SPI.D5.2.3.CNIN&quot;</span>, <span class="st">&quot;SPI.D5.2.5.HOUS&quot;</span>, <span class="st">&quot;SPI.D5.2.6.EMPL&quot;</span>, <span class="st">&quot;SPI.D5.2.8.FINA&quot;</span>,</span>
<span id="cb58-40"><a href="data-infrastructure-1.html#cb58-40" tabindex="-1"></a>                  <span class="st">&quot;SPI.D5.2.10.GSBP&quot;</span>,</span>
<span id="cb58-41"><a href="data-infrastructure-1.html#cb58-41" tabindex="-1"></a>                  <span class="st">&quot;SPI.D5.5.DIFI&quot;</span>),</span>
<span id="cb58-42"><a href="data-infrastructure-1.html#cb58-42" tabindex="-1"></a>                <span class="sc">~</span><span class="fu">if_else</span>(( (income_level<span class="sc">==</span><span class="st">&#39;High income&#39;</span>)  <span class="sc">&amp;</span> (country <span class="sc">%in%</span> country_mod_list)),<span class="dv">1</span>,.)                )) </span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-infrastructure-1.html#cb59-1" tabindex="-1"></a><span class="co">#write to csv</span></span>
<span id="cb59-2"><a href="data-infrastructure-1.html#cb59-2" tabindex="-1"></a>spi_df_final <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="data-infrastructure-1.html#cb59-3" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="data-infrastructure-1.html#cb59-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(is.list, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="data-infrastructure-1.html#cb59-5" tabindex="-1"></a>  <span class="fu">write_excel_csv</span>( <span class="at">path =</span> <span class="fu">paste</span>(output_dir, <span class="st">&#39;SPI_data.csv&#39;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>))</span>
<span id="cb59-6"><a href="data-infrastructure-1.html#cb59-6" tabindex="-1"></a></span>
<span id="cb59-7"><a href="data-infrastructure-1.html#cb59-7" tabindex="-1"></a><span class="co">#label data</span></span>
<span id="cb59-8"><a href="data-infrastructure-1.html#cb59-8" tabindex="-1"></a><span class="co">#read in metadata</span></span>
<span id="cb59-9"><a href="data-infrastructure-1.html#cb59-9" tabindex="-1"></a>names_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&#39;source_id&#39;</span><span class="ot">=</span><span class="fu">colnames</span>(spi_df_final))</span>
<span id="cb59-10"><a href="data-infrastructure-1.html#cb59-10" tabindex="-1"></a></span>
<span id="cb59-11"><a href="data-infrastructure-1.html#cb59-11" tabindex="-1"></a>spi_meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste</span>(raw_dir, <span class="st">&#39;/metadata/SPI_dimensions_sources.csv&#39;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb59-12"><a href="data-infrastructure-1.html#cb59-12" tabindex="-1"></a>  <span class="fu">right_join</span>(names_df) <span class="sc">%&gt;%</span></span>
<span id="cb59-13"><a href="data-infrastructure-1.html#cb59-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source_name=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(source_name), <span class="fu">paste</span>(source_id), source_name)) <span class="sc">%&gt;%</span></span>
<span id="cb59-14"><a href="data-infrastructure-1.html#cb59-14" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(source_id, <span class="at">levels=</span><span class="fu">colnames</span>(spi_df_final)))</span>
<span id="cb59-15"><a href="data-infrastructure-1.html#cb59-15" tabindex="-1"></a></span>
<span id="cb59-16"><a href="data-infrastructure-1.html#cb59-16" tabindex="-1"></a><span class="co">#label data</span></span>
<span id="cb59-17"><a href="data-infrastructure-1.html#cb59-17" tabindex="-1"></a></span>
<span id="cb59-18"><a href="data-infrastructure-1.html#cb59-18" tabindex="-1"></a><span class="fu">label</span>(spi_df_final) <span class="ot">=</span> <span class="fu">as.list</span>(spi_meta<span class="sc">$</span>source_name)</span>
<span id="cb59-19"><a href="data-infrastructure-1.html#cb59-19" tabindex="-1"></a></span>
<span id="cb59-20"><a href="data-infrastructure-1.html#cb59-20" tabindex="-1"></a></span>
<span id="cb59-21"><a href="data-infrastructure-1.html#cb59-21" tabindex="-1"></a><span class="co">#write to stata</span></span>
<span id="cb59-22"><a href="data-infrastructure-1.html#cb59-22" tabindex="-1"></a>spi_df_final <span class="sc">%&gt;%</span></span>
<span id="cb59-23"><a href="data-infrastructure-1.html#cb59-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(is.list, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb59-24"><a href="data-infrastructure-1.html#cb59-24" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;.&quot;</span>,<span class="st">&quot;_&quot;</span>,.x, <span class="at">fixed=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb59-25"><a href="data-infrastructure-1.html#cb59-25" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>latitude,<span class="sc">-</span>longitude) <span class="sc">%&gt;%</span></span>
<span id="cb59-26"><a href="data-infrastructure-1.html#cb59-26" tabindex="-1"></a>  <span class="fu">write_dta</span>( <span class="at">path =</span> <span class="fu">paste</span>(output_dir, <span class="st">&#39;SPI_data.dta&#39;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>))</span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources-1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
